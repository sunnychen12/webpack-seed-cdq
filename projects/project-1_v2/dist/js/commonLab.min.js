var commomLab={whichTransitionEvent:function(){var t,e=document.createElement("surface"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]},checkform:function(t){var a=this,o=!0;return $('[data-check="1"]',t).each(function(t,e){var n=this;return""==$.trim($(this).val())?(a.myToast({msg:$(this).attr("data-msg-empty")},function(){$(n).focus()}),o=!1):new RegExp($(this).attr("data-rule"),"g").test($(this).val())?void 0:(a.myToast({msg:$(this).attr("data-msg-error")},function(){$(n).focus()}),o=!1)}),o},moveTop:function(t){var e=$("#movetop");0==e.length&&($("body").append('<a href="javascript:;" class="moveTop" id="movetop"></a>'),e=$("#movetop")),e.click(function(){t.scrollTop(0)});var n=t;n.on("scroll",function(t){50<n.scrollTop()?e.animate({opacity:1},"fast","ease",function(){e.show()}):e.animate({opacity:0},"fast","ease",function(){e.hide()})})},myToast:function(t,e){t=$.extend({},{msg:"",time:2e3,extraclass:""},t),$("body").append($('<div data-id="my-overlay"></div>').css({position:"absolute",left:0,top:0,"z-index":10600,width:"100%",height:"100%"}));var n=$('<div class="modal toast '+(t.extraclass||"")+'">'+t.msg+"</div>").appendTo(document.body);$.openModal(n,function(){setTimeout(function(){n.one("closed",function(t){$('[data-id="my-overlay"]').remove(),"function"==typeof e&&e.call()}),$.closeModal(n)},t.time)})},getQueryParam:function(t){var e=window.location.href,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=e.indexOf("?");if(-1==a)return null;var o=e.substr(a+1).match(n);return null!=o?decodeURIComponent(o[2]):null},ajaxProcess:function(t){t.type||(t.type="GET"),t.dataType||(t.dataType="json"),"boolean"==typeof t.cache||(t.cache=!1),$.extend(!0,t.data,{bathURL:"http://beijinglms.eenet.com"});var e=$.extend({},$.ajaxSettings,t);return $.ajax(e)},cacheUserCourseInfo:{key:"UserCourseInfo",clear:function(){localStorage.removeItem(this.key)},set:function(t){localStorage.setItem(this.key,JSON.stringify(t))},get:function(){var t=!1;try{t=JSON.parse(localStorage.getItem(this.key))}catch(t){}return t}},cacheIndexScrollPos:{key:"indexScrollPos",clear:function(){sessionStorage.removeItem(this.key)},set:function(t){sessionStorage.setItem(this.key,t)},get:function(){return sessionStorage.getItem(this.key)}},cacheAttemptState:{para:{qid:"-",aid:"-"},key:"attemptState",clear:function(t){var e=this.key+""+t.qid+"_"+t.aid;sessionStorage.removeItem(e)},set:function(t,e){var n=this.key+""+t.qid+"_"+t.aid;sessionStorage.setItem(n,e)},get:function(t){var e=this.key+""+t.qid+"_"+t.aid;return sessionStorage.getItem(e)}},checkAPIResult:function(t){return 200==t.msgCode&&t.data},callTeacher:function(){try{var t=this.cacheUserCourseInfo.get().user;t&&t.username&&t.studentId&&(location.href="/statics/mobile-learning/faq-center.html?userName="+t.username+"&studentId="+t.studentId)}catch(t){}},faqDefaultParams:{userName:"",studentId:"",signature:"feedgrrbackiktlsignaturewldpmo"}};$.fn.fadeIn=function(e){return this.each(function(){var t=$(this);t.addClass("fadeIn animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("fadeIn animated"),"function"==typeof e&&e.call(t)}).show()})},$.fn.slideToggle=function(n){return this.each(function(){var e=$(this);if(!e.hasClass("animating")){var t=e.children(".slide-cnt").height();e.addClass("animating"),e.hasClass("expand")?e.height(t).height(0):e.height(t),e.one(commomLab.whichTransitionEvent(),function(t){e.hasClass("expand")?e.removeClass("expand"):e.addClass("expand"),e.removeClass("animating"),"function"==typeof n&&n.call(e)})}})},/Android/gi.test(navigator.userAgent)&&window.addEventListener("resize",function(){"INPUT"!=document.activeElement.tagName&&"TEXTAREA"!=document.activeElement.tagName||window.setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)}),String.prototype.format=function(){var n=arguments;return this.replace(/\{(\d+)\}/g,function(t,e){return n[e]})};