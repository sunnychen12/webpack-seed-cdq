var Zepto=function(){function l(t){return null==t?String(t):j[R.call(t)]||"object"}function a(t){return"function"==l(t)}function r(t){return null!=t&&t==t.window}function s(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(t){return"object"==l(t)}function c(t){return o(t)&&!r(t)&&Object.getPrototypeOf(t)==Object.prototype}function h(t){return"number"==typeof t.length}function p(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(t){return t in e?e[t]:e[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function u(t,e){return"number"!=typeof e||D[p(t)]?e:e+"px"}function i(t){return"children"in t?S.call(t.children):x.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e){return null==e?x(t):x(t).filter(e)}function f(t,e,n,i){return a(e)?e.call(t,n,i):e}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function v(t,e){var n=t.className||"",i=n&&n.baseVal!==y;return e===y?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function g(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?x.parseJSON(e):e):e}catch(t){return e}}var y,w,x,b,T,C,k=[],S=k.slice,E=k.filter,M=window.document,P={},e={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},_=/^\s*<(\w+|!)[^>]*>/,Y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,H=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,X=/^(?:body|html)$/i,O=/([A-Z])/g,A=["val","css","html","text","data","width","height","offset"],t=M.createElement("table"),L=M.createElement("tr"),I={tr:M.createElement("tbody"),tbody:t,thead:t,tfoot:t,td:L,th:L,"*":M.createElement("div")},V=/complete|loaded|interactive/,N=/^[\w-]*$/,j={},R=j.toString,z={},B=M.createElement("div"),F={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},W=Array.isArray||function(t){return t instanceof Array};return z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,o=t.parentNode,r=!o;return r&&(o=B).appendChild(t),i=~z.qsa(o,e).indexOf(t),r&&B.removeChild(t),i},T=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},C=function(n){return E.call(n,function(t,e){return n.indexOf(t)==e})},z.fragment=function(t,e,n){var i,o,r;return Y.test(t)&&(i=x(M.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(H,"<$1></$2>")),e===y&&(e=_.test(t)&&RegExp.$1),e in I||(e="*"),(r=I[e]).innerHTML=""+t,i=x.each(S.call(r.childNodes),function(){r.removeChild(this)})),c(n)&&(o=x(i),x.each(n,function(t,e){-1<A.indexOf(t)?o[t](e):o.attr(t,e)})),i},z.Z=function(t,e){return(t=t||[]).__proto__=x.fn,t.selector=e||"",t},z.isZ=function(t){return t instanceof z.Z},z.init=function(t,e){var n,i;if(!t)return z.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&_.test(t))n=z.fragment(t,RegExp.$1,e),t=null;else{if(e!==y)return x(e).find(t);n=z.qsa(M,t)}else{if(a(t))return x(M).ready(t);if(z.isZ(t))return t;if(W(t))i=t,n=E.call(i,function(t){return null!=t});else if(o(t))n=[t],t=null;else if(_.test(t))n=z.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==y)return x(e).find(t);n=z.qsa(M,t)}}return z.Z(n,t)},(x=function(t,e){return z.init(t,e)}).extend=function(e){var n,t=S.call(arguments,1);return"boolean"==typeof e&&(n=e,e=t.shift()),t.forEach(function(t){!function t(e,n,i){for(w in n)i&&(c(n[w])||W(n[w]))?(c(n[w])&&!c(e[w])&&(e[w]={}),W(n[w])&&!W(e[w])&&(e[w]=[]),t(e[w],n[w],i)):n[w]!==y&&(e[w]=n[w])}(e,t,n)}),e},z.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],r=i||o?e.slice(1):e,a=N.test(r);return s(t)&&a&&i?(n=t.getElementById(r))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:S.call(a&&!i?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},x.contains=M.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},x.type=l,x.isFunction=a,x.isWindow=r,x.isArray=W,x.isPlainObject=c,x.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},x.inArray=function(t,e,n){return k.indexOf.call(e,t,n)},x.camelCase=T,x.trim=function(t){return null==t?"":String.prototype.trim.call(t)},x.uuid=0,x.support={},x.expr={},x.map=function(t,e){var n,i,o,r,a=[];if(h(t))for(i=0;i<t.length;i++)null!=(n=e(t[i],i))&&a.push(n);else for(o in t)null!=(n=e(t[o],o))&&a.push(n);return 0<(r=a).length?x.fn.concat.apply([],r):r},x.each=function(t,e){var n,i;if(h(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(i in t)if(!1===e.call(t[i],i,t[i]))return t;return t},x.grep=function(t,e){return E.call(t,e)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){j["[object "+e+"]"]=e.toLowerCase()}),x.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(n){return x(x.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return x(S.apply(this,arguments))},ready:function(t){return V.test(M.readyState)&&M.body?t(x):M.addEventListener("DOMContentLoaded",function(){t(x)},!1),this},get:function(t){return t===y?S.call(this):this[0<=t?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return k.every.call(this,function(t,e){return!1!==n.call(t,e,t)}),this},filter:function(e){return a(e)?this.not(this.not(e)):x(E.call(this,function(t){return z.matches(t,e)}))},add:function(t,e){return x(C(this.concat(x(t,e))))},is:function(t){return 0<this.length&&z.matches(this[0],t)},not:function(e){var n=[];if(a(e)&&e.call!==y)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):h(e)&&a(e.item)?S.call(e):x(e);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return x(n)},has:function(t){return this.filter(function(){return o(t)?x.contains(this,t):x(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:x(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:x(t)},find:function(t){var n=this;return t?"object"==typeof t?x(t).filter(function(){var e=this;return k.some.call(n,function(t){return x.contains(t,e)})}):1==this.length?x(z.qsa(this[0],t)):this.map(function(){return z.qsa(this,t)}):x()},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=x(t));n&&!(i?0<=i.indexOf(n):z.matches(n,t));)n=n!==e&&!s(n)&&n.parentNode;return x(n)},parents:function(t){for(var e=[],n=this;0<n.length;)n=x.map(n,function(t){return(t=t.parentNode)&&!s(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return d(e,t)},parent:function(t){return d(C(this.pluck("parentNode")),t)},children:function(t){return d(this.map(function(){return i(this)}),t)},contents:function(){return this.map(function(){return S.call(this.childNodes)})},siblings:function(t){return d(this.map(function(t,e){return E.call(i(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return x.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,P[t]||(e=M.createElement(t),M.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),P[t]=n),P[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var n=a(e);if(this[0]&&!n)var i=x(e).get(0),o=i.parentNode||1<this.length;return this.each(function(t){x(this).wrapAll(n?e.call(this,t):o?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){x(this[0]).before(t=x(t));for(var e;(e=t.children()).length;)t=e.first();x(t).append(this)}return this},wrapInner:function(o){var r=a(o);return this.each(function(t){var e=x(this),n=e.contents(),i=r?o.call(this,t):o;n.length?n.wrapAll(i):e.append(i)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=x(this);(e===y?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(t){return x(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return x(this.pluck("nextElementSibling")).filter(t||"*")},html:function(n){return 0 in arguments?this.each(function(t){var e=this.innerHTML;x(this).empty().append(f(this,n,t,e))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(t){var e=f(this,n,t,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this[0].textContent:null},attr:function(e,n){var t;return"string"!=typeof e||1 in arguments?this.each(function(t){if(1===this.nodeType)if(o(e))for(w in e)m(this,w,e[w]);else m(this,e,f(this,n,t,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(t=this[0].getAttribute(e))&&e in this[0]?this[0][e]:t:y},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){m(this,t)},this)})},prop:function(e,n){return e=F[e]||e,1 in arguments?this.each(function(t){this[e]=f(this,n,t,this[e])}):this[0]&&this[0][e]},data:function(t,e){var n="data-"+t.replace(O,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?g(i):y},val:function(e){return 0 in arguments?this.each(function(t){this.value=f(this,e,t,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(r){if(r)return this.each(function(t){var e=x(this),n=f(this,r,t,e.offset()),i=e.offsetParent().offset(),o={top:n.top-i.top,left:n.left-i.left};"static"==e.css("position")&&(o.position="relative"),e.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,e){if(arguments.length<2){var n,i=this[0];if(!i)return;if(n=getComputedStyle(i,""),"string"==typeof t)return i.style[T(t)]||n.getPropertyValue(t);if(W(t)){var o={};return x.each(t,function(t,e){o[e]=i.style[T(e)]||n.getPropertyValue(e)}),o}}var r="";if("string"==l(t))e||0===e?r=p(t)+":"+u(t,e):this.each(function(){this.style.removeProperty(p(t))});else for(w in t)t[w]||0===t[w]?r+=p(w)+":"+u(w,t[w])+";":this.each(function(){this.style.removeProperty(p(w))});return this.each(function(){this.style.cssText+=";"+r})},index:function(t){return t?this.indexOf(x(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&k.some.call(this,function(t){return this.test(v(t))},n(t))},addClass:function(n){return n?this.each(function(t){if("className"in this){b=[];var e=v(this);f(this,n,t,e).split(/\s+/g).forEach(function(t){x(this).hasClass(t)||b.push(t)},this),b.length&&v(this,e+(e?" ":"")+b.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===y)return v(this,"");b=v(this),f(this,e,t,b).split(/\s+/g).forEach(function(t){b=b.replace(n(t)," ")}),v(this,b.trim())}})},toggleClass:function(n,i){return n?this.each(function(t){var e=x(this);f(this,n,t,v(this)).split(/\s+/g).forEach(function(t){(i===y?!e.hasClass(t):i)?e.addClass(t):e.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===y?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===y?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=X.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(x(t).css("margin-top"))||0,n.left-=parseFloat(x(t).css("margin-left"))||0,i.top+=parseFloat(x(e[0]).css("border-top-width"))||0,i.left+=parseFloat(x(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||M.body;t&&!X.test(t.nodeName)&&"static"==x(t).css("position");)t=t.offsetParent;return t})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(i){var o=i.replace(/./,function(t){return t[0].toUpperCase()});x.fn[i]=function(e){var t,n=this[0];return e===y?r(n)?n["inner"+o]:s(n)?n.documentElement["scroll"+o]:(t=this.offset())&&t[i]:this.each(function(t){(n=x(this)).css(i,f(this,e,t,n[i]()))})}}),["after","prepend","before","append"].forEach(function(e,a){var s=a%2;x.fn[e]=function(){var e,i,o=x.map(arguments,function(t){return"object"==(e=l(t))||"array"==e||null==t?t:z.fragment(t)}),r=1<this.length;return o.length<1?this:this.each(function(t,e){i=s?e:e.parentNode,e=0==a?e.nextSibling:1==a?e.firstChild:2==a?e:null;var n=x.contains(M.documentElement,i);o.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!i)return x(t).remove();i.insertBefore(t,e),n&&function t(e,n){n(e);for(var i=0,o=e.childNodes.length;i<o;i++)t(e.childNodes[i],n)}(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},x.fn[s?e+"To":"insert"+(a?"Before":"After")]=function(t){return x(t)[e](this),this}}),z.Z.prototype=x.fn,z.uniq=C,z.deserializeValue=g,x.zepto=z,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(h){function p(t){return t._zid||(t._zid=e++)}function a(t,e,n,i){if((e=u(e)).ns)var o=(r=e.ns,new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)"));var r;return(T[p(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!o.test(t.ns)||n&&p(t.fn)!==p(n)||i&&t.sel!=i)})}function u(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t,e){return t.del&&!n&&t.e in i||!!e}function f(t){return C[t]||n&&i[t]||t}function c(o,t,e,r,a,s,l){var n=p(o),c=T[n]||(T[n]=[]);t.split(/\s/).forEach(function(t){if("ready"==t)return h(document).ready(e);var n=u(t);n.fn=e,n.sel=a,n.e in C&&(e=function(t){var e=t.relatedTarget;return!e||e!==this&&!h.contains(this,e)?n.fn.apply(this,arguments):void 0});var i=(n.del=s)||e;n.proxy=function(t){if(!(t=v(t)).isImmediatePropagationStopped()){t.data=r;var e=i.apply(o,t._args==y?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},n.i=c.length,c.push(n),"addEventListener"in o&&o.addEventListener(f(n.e),n.proxy,d(n,l))})}function m(e,t,n,i,o){var r=p(e);(t||"").split(/\s/).forEach(function(t){a(e,t,n,i).forEach(function(t){delete T[r][t.i],"removeEventListener"in e&&e.removeEventListener(f(t.e),t.proxy,d(t,o))})})}function v(i,o){return(o||!i.isDefaultPrevented)&&(o||(o=i),h.each(t,function(t,e){var n=o[t];i[t]=function(){return this[e]=s,n&&n.apply(o,arguments)},i[e]=k}),(o.defaultPrevented!==y?o.defaultPrevented:"returnValue"in o?!1===o.returnValue:o.getPreventDefault&&o.getPreventDefault())&&(i.isDefaultPrevented=s)),i}function g(t){var e,n={originalEvent:t};for(e in t)o.test(e)||t[e]===y||(n[e]=t[e]);return v(n,t)}var y,e=1,w=Array.prototype.slice,x=h.isFunction,b=function(t){return"string"==typeof t},T={},r={},n="onfocusin"in window,i={focus:"focusin",blur:"focusout"},C={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",h.event={add:c,remove:m},h.proxy=function(t,e){var n=2 in arguments&&w.call(arguments,2);if(x(t)){var i=function(){return t.apply(e,n?n.concat(w.call(arguments)):arguments)};return i._zid=p(t),i}if(b(e))return n?(n.unshift(t[e],t),h.proxy.apply(null,n)):h.proxy(t[e],t);throw new TypeError("expected function")},h.fn.bind=function(t,e,n){return this.on(t,e,n)},h.fn.unbind=function(t,e){return this.off(t,e)},h.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var s=function(){return!0},k=function(){return!1},o=/^([A-Z]|returnValue$|layer[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};h.fn.delegate=function(t,e,n){return this.on(e,t,n)},h.fn.undelegate=function(t,e,n){return this.off(e,t,n)},h.fn.live=function(t,e){return h(document.body).delegate(this.selector,t,e),this},h.fn.die=function(t,e){return h(document.body).undelegate(this.selector,t,e),this},h.fn.on=function(e,o,n,r,a){var s,l,i=this;return e&&!b(e)?(h.each(e,function(t,e){i.on(t,o,n,e,a)}),i):(b(o)||x(r)||!1===r||(r=n,n=o,o=y),(x(n)||!1===n)&&(r=n,n=y),!1===r&&(r=k),i.each(function(t,i){a&&(s=function(t){return m(i,t.type,r),r.apply(this,arguments)}),o&&(l=function(t){var e,n=h(t.target).closest(o,i).get(0);return n&&n!==i?(e=h.extend(g(t),{currentTarget:n,liveFired:i}),(s||r).apply(n,[e].concat(w.call(arguments,1)))):void 0}),c(i,e,r,n,o,l||s)}))},h.fn.off=function(t,n,e){var i=this;return t&&!b(t)?(h.each(t,function(t,e){i.off(t,n,e)}),i):(b(n)||x(e)||!1===e||(e=n,n=y),!1===e&&(e=k),i.each(function(){m(this,t,e,n)}))},h.fn.trigger=function(t,e){return(t=b(t)||h.isPlainObject(t)?h.Event(t):v(t))._args=e,this.each(function(){t.type in i&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):h(this).triggerHandler(t,e)})},h.fn.triggerHandler=function(n,i){var o,r;return this.each(function(t,e){(o=g(b(n)?h.Event(n):n))._args=i,o.target=e,h.each(a(e,n.type||n),function(t,e){return r=e.proxy(o),!o.isImmediatePropagationStopped()&&void 0})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){h.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),h.Event=function(t,e){b(t)||(t=(e=t).type);var n=document.createEvent(r[t]||"Events"),i=!0;if(e)for(var o in e)"bubbles"==o?i=!!e[o]:n[o]=e[o];return n.initEvent(t,i,!0),v(n)}}(Zepto),function(eh){function gh(t,e,n,i){return t.global?(o=e||wh,r=n,a=i,s=eh.Event(r),eh(o).trigger(s,a),!s.isDefaultPrevented()):void 0;var o,r,a,s}function jh(t,e){var n=e.context;return!1!==e.beforeSend.call(n,t,e)&&!1!==gh(e,n,"ajaxBeforeSend",[t,e])&&void gh(e,n,"ajaxSend",[t,e])}function kh(t,e,n,i){var o=n.context,r="success";n.success.call(o,t,r,e),i&&i.resolveWith(o,[t,r,e]),gh(n,o,"ajaxSuccess",[e,n,t]),mh(r,e,n)}function lh(t,e,n,i,o){var r=i.context;i.error.call(r,n,e,t),o&&o.rejectWith(r,[n,e,t]),gh(i,r,"ajaxError",[n,i,t||e]),mh(e,n,i)}function mh(t,e,n){var i,o=n.context;n.complete.call(o,e,t),gh(n,o,"ajaxComplete",[e,n]),(i=n).global&&!--eh.active&&gh(i,null,"ajaxStop")}function nh(){}function ph(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function rh(t,e,n,i){return eh.isFunction(e)&&(i=n,n=e,e=void 0),eh.isFunction(n)||(i=n,n=void 0),{url:t,data:e,success:n,dataType:i}}var th,uh,vh=0,wh=window.document,xh=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,yh=/^(?:text|application)\/javascript/i,zh=/^(?:text|application)\/xml/i,Ah="application/json",Bh="text/html",Ch=/^\s*$/,Dh=wh.createElement("a");Dh.href=window.location.href,eh.active=0,eh.ajaxJSONP=function(n,i){if(!("type"in n))return eh.ajax(n);var o,r,t=n.jsonpCallback,a=(eh.isFunction(t)?t():t)||"jsonp"+ ++vh,s=wh.createElement("script"),l=window[a],e=function(t){eh(s).triggerHandler("error",t||"abort")},c={abort:e};return i&&i.promise(c),eh(s).on("load error",function(t,e){clearTimeout(r),eh(s).off().remove(),"error"!=t.type&&o?kh(o[0],c,n,i):lh(null,e||"error",c,n,i),window[a]=l,o&&eh.isFunction(l)&&l(o[0]),l=o=void 0}),!1===jh(c,n)?e("abort"):(window[a]=function(){o=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),wh.head.appendChild(s),0<n.timeout&&(r=setTimeout(function(){e("timeout")},n.timeout))),c},eh.ajaxSettings={type:"GET",beforeSend:nh,success:nh,error:nh,complete:nh,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:Ah,xml:"application/xml, text/xml",html:Bh,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},eh.ajax=function(Ki){var Li,ji,Nh,Mi=eh.extend({},Ki||{}),Ni=eh.Deferred&&eh.Deferred();for(th in eh.ajaxSettings)void 0===Mi[th]&&(Mi[th]=eh.ajaxSettings[th]);(Nh=Mi).global&&0==eh.active++&&gh(Nh,null,"ajaxStart"),Mi.crossDomain||((Li=wh.createElement("a")).href=Mi.url,Li.href=Li.href,Mi.crossDomain=Dh.protocol+"//"+Dh.host!=Li.protocol+"//"+Li.host),Mi.url||(Mi.url=window.location.toString()),(ji=Mi).processData&&ji.data&&"string"!=eh.type(ji.data)&&(ji.data=eh.param(ji.data,ji.traditional)),!ji.data||ji.type&&"GET"!=ji.type.toUpperCase()||(ji.url=ph(ji.url,ji.data),ji.data=void 0);var Oi=Mi.dataType,Pi=/\?.+=\?/.test(Mi.url);if(Pi&&(Oi="jsonp"),!1!==Mi.cache&&(Ki&&!0===Ki.cache||"script"!=Oi&&"jsonp"!=Oi)||(Mi.url=ph(Mi.url,"_="+Date.now())),"jsonp"==Oi)return Pi||(Mi.url=ph(Mi.url,Mi.jsonp?Mi.jsonp+"=?":!1===Mi.jsonp?"":"callback=?")),eh.ajaxJSONP(Mi,Ni);var Qi,Ri=Mi.accepts[Oi],Si={},Ti=function(t,e){Si[t.toLowerCase()]=[t,e]},Ui=/^([\w-]+:)\/\//.test(Mi.url)?RegExp.$1:window.location.protocol,Vi=Mi.xhr(),Wi=Vi.setRequestHeader;if(Ni&&Ni.promise(Vi),Mi.crossDomain||Ti("X-Requested-With","XMLHttpRequest"),Ti("Accept",Ri||"*/*"),(Ri=Mi.mimeType||Ri)&&(-1<Ri.indexOf(",")&&(Ri=Ri.split(",",2)[0]),Vi.overrideMimeType&&Vi.overrideMimeType(Ri)),(Mi.contentType||!1!==Mi.contentType&&Mi.data&&"GET"!=Mi.type.toUpperCase())&&Ti("Content-Type",Mi.contentType||"application/x-www-form-urlencoded"),Mi.headers)for(uh in Mi.headers)Ti(uh,Mi.headers[uh]);if(Vi.setRequestHeader=Ti,!(Vi.onreadystatechange=function(){if(4==Vi.readyState){Vi.onreadystatechange=nh,clearTimeout(Qi);var $i,_i=!1;if(200<=Vi.status&&Vi.status<300||304==Vi.status||0==Vi.status&&"file:"==Ui){Oi=Oi||((gi=Mi.mimeType||Vi.getResponseHeader("content-type"))&&(gi=gi.split(";",2)[0]),gi&&(gi==Bh?"html":gi==Ah?"json":yh.test(gi)?"script":zh.test(gi)&&"xml")||"text"),$i=Vi.responseText;try{"script"==Oi?eval($i):"xml"==Oi?$i=Vi.responseXML:"json"==Oi&&($i=Ch.test($i)?null:eh.parseJSON($i))}catch(t){_i=t}_i?lh(_i,"parsererror",Vi,Mi,Ni):kh($i,Vi,Mi,Ni)}else lh(Vi.statusText||null,Vi.status?"error":"abort",Vi,Mi,Ni)}var gi})===jh(Vi,Mi))return Vi.abort(),lh(null,"abort",Vi,Mi,Ni),Vi;if(Mi.xhrFields)for(uh in Mi.xhrFields)Vi[uh]=Mi.xhrFields[uh];var Xi=!("async"in Mi)||Mi.async;for(uh in Vi.open(Mi.type,Mi.url,Xi,Mi.username,Mi.password),Si)Wi.apply(Vi,Si[uh]);return 0<Mi.timeout&&(Qi=setTimeout(function(){Vi.onreadystatechange=nh,Vi.abort(),lh(null,"timeout",Vi,Mi,Ni)},Mi.timeout)),Vi.send(Mi.data?Mi.data:null),Vi},eh.get=function(){return eh.ajax(rh.apply(null,arguments))},eh.post=function(){var t=rh.apply(null,arguments);return t.type="POST",eh.ajax(t)},eh.getJSON=function(){var t=rh.apply(null,arguments);return t.dataType="json",eh.ajax(t)},eh.fn.load=function(t,e,n){if(!this.length)return this;var i,o=this,r=t.split(/\s/),a=rh(t,e,n),s=a.success;return 1<r.length&&(a.url=r[0],i=r[1]),a.success=function(t){o.html(i?eh("<div>").html(t.replace(xh,"")).find(i):t),s&&s.apply(o,arguments)},eh.ajax(a),this};var Eh=encodeURIComponent;eh.param=function(t,e){var n=[];return n.add=function(t,e){eh.isFunction(e)&&(e=e()),null==e&&(e=""),this.push(Eh(t)+"="+Eh(e))},function n(i,t,o,r){var a,s=eh.isArray(t),l=eh.isPlainObject(t);eh.each(t,function(t,e){a=eh.type(e),r&&(t=o?r:r+"["+(l||"object"==a||"array"==a?t:"")+"]"),!r&&s?i.add(e.name,e.value):"array"==a||!o&&"object"==a?n(i,e,o,t):i.add(t,e)})}(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(r){r.fn.serializeArray=function(){var n,i,e=[],o=function(t){return t.forEach?t.forEach(o):void e.push({name:n,value:t})};return this[0]&&r.each(this[0].elements,function(t,e){i=e.type,(n=e.name)&&"fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||e.checked)&&o(r(e).val())}),e},r.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},r.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var e=r.Event("submit");this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(n){"__proto__"in{}||n.extend(n.zepto,{Z:function(t,e){return t=t||[],n.extend(t,n.fn),t.selector=e||"",t.__Z=!0,t},isZ:function(t){return"array"===n.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(Zepto),Zepto.config={routerFilter:function(t){return!!t.is("a.router-link")}},$.smVersion="0.6.2",function(t){"use strict";t.smConfig=t.extend({autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!0},t.config)}(Zepto),function(t){"use strict";t.compareVersion=function(t,e){var n=t.split("."),i=e.split(".");if(t===e)return 0;for(var o=0;o<n.length;o++){var r=parseInt(n[o]);if(!i[o])return 1;var a=parseInt(i[o]);if(r<a)return-1;if(a<r)return 1}return-1},t.getCurrentPage=function(){return t(".page-current")[0]||t(".page")[0]||document.body}}(Zepto),function(s){"use strict";function e(t,e){function n(t){if(t.target===this)for(e.call(this,t),i=0;i<o.length;i++)r.off(o[i],n)}var i,o=t,r=this;if(e)for(i=0;i<o.length;i++)r.on(o[i],n)}["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});s.fn["outer"+e]=function(e){var n=this;if(n){var i=n[t]();return{width:["left","right"],height:["top","bottom"]}[t].forEach(function(t){e&&(i+=parseInt(n.css("margin-"+t),10))}),i}return null}}),s.support={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)},s.touchEvents={start:s.support.touch?"touchstart":"mousedown",move:s.support.touch?"touchmove":"mousemove",end:s.support.touch?"touchend":"mouseup"},s.getTranslate=function(t,e){var n,i,o,r;return void 0===e&&(e="x"),o=window.getComputedStyle(t,null),window.WebKitCSSMatrix?r=new WebKitCSSMatrix("none"===o.webkitTransform?"":o.webkitTransform):n=(r=o.MozTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=window.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=window.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},s.requestAnimationFrame=function(t){return requestAnimationFrame?requestAnimationFrame(t):webkitRequestAnimationFrame?webkitRequestAnimationFrame(t):mozRequestAnimationFrame?mozRequestAnimationFrame(t):setTimeout(t,1e3/60)},s.cancelAnimationFrame=function(t){return cancelAnimationFrame?cancelAnimationFrame(t):webkitCancelAnimationFrame?webkitCancelAnimationFrame(t):mozCancelAnimationFrame?mozCancelAnimationFrame(t):clearTimeout(t)},s.fn.dataset=function(){var t={},e=this[0].dataset;for(var n in e){var i=t[n]=e[n];"false"===i?t[n]=!1:"true"===i?t[n]=!0:parseFloat(i)===1*i&&(t[n]=1*i)}return s.extend({},t,this[0].__eleData)},s.fn.data=function(t,e){var n=s(this).dataset();if(!t)return n;if(void 0===e){var i=n[t],o=this[0].__eleData;return o&&t in o?o[t]:i}for(var r=0;r<this.length;r++){var a=this[r];t in n&&delete a.dataset[t],a.__eleData||(a.__eleData={}),a.__eleData[t]=e}return this},s.fn.animationEnd=function(t){return e.call(this,["webkitAnimationEnd","animationend"],t),this},s.fn.transitionEnd=function(t){return e.call(this,["webkitTransitionEnd","transitionend"],t),this},s.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MozTransitionDuration=n.transitionDuration=t}return this},s.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MozTransform=n.transform=t}return this},s.fn.prevAll=function(t){var e=[],n=this[0];if(!n)return s([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;t?s(i).is(t)&&e.push(i):e.push(i),n=i}return s(e)},s.fn.nextAll=function(t){var e=[],n=this[0];if(!n)return s([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;t?s(i).is(t)&&e.push(i):e.push(i),n=i}return s(e)},s.fn.show=function(){var i={};return this.each(function(){var t,e,n;"none"===this.style.display&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display"),this.style.display=(t=this.nodeName,i[t]||(e=document.createElement(t),document.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),i[t]=n),i[t])})}}(Zepto),function(t){"use strict";var e={},n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),o=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,i&&(e.os="android",e.osVersion=i[2],e.android=!0,e.androidChrome=0<=n.toLowerCase().indexOf("chrome")),(o||a||r)&&(e.os="ios",e.ios=!0),a&&!r&&(e.osVersion=a[2].replace(/_/g,"."),e.iphone=!0),o&&(e.osVersion=o[2].replace(/_/g,"."),e.ipad=!0),r&&(e.osVersion=r[3]?r[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&0<=n.indexOf("Version/")&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(a||o||r)&&n.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var s=e.osVersion.split(".");e.minimalUi=!e.webView&&(r||a)&&(1*s[0]==7?1<=1*s[1]:7<1*s[0])&&0<t('meta[name="viewport"]').length&&0<=t('meta[name="viewport"]').attr("content").indexOf("minimal-ui")}var l=t(window).width(),c=t(window).height();e.statusBar=!1,e.webView&&l*c==screen.width*screen.height?e.statusBar=!0:e.statusBar=!1;var h=[];if(e.pixelRatio=window.devicePixelRatio||1,h.push("pixel-ratio-"+Math.floor(e.pixelRatio)),2<=e.pixelRatio&&h.push("retina"),e.os&&(h.push(e.os,e.os+"-"+e.osVersion.split(".")[0],e.os+"-"+e.osVersion.replace(/\./g,"-")),"ios"===e.os))for(var p=parseInt(e.osVersion.split(".")[0],10)-1;6<=p;p--)h.push("ios-gt-"+p);e.statusBar?h.push("with-statusbar-overlay"):t("html").removeClass("with-statusbar-overlay"),0<h.length&&t("html").addClass(h.join(" ")),e.isWeixin=/MicroMessenger/i.test(n),t.device=e}(Zepto),function(){"use strict";function s(o,t){function e(t,e){return function(){return t.apply(e,arguments)}}var n;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=o,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!s.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=0,a=i.length;r<a;r++)this[i[r]]=e(this[i[r]],this);l&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(t,e,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(o,t,e.hijacked||e,n):i.call(o,t,e,n)},o.addEventListener=function(t,e,n){var i=Node.prototype.addEventListener;"click"===t?i.call(o,t,e.hijacked||(e.hijacked=function(t){t.propagationStopped||e(t)}),n):i.call(o,t,e,n)}),"function"==typeof o.onclick&&(n=o.onclick,o.addEventListener("click",function(t){n(t)},!1),o.onclick=null)}}var t=0<=navigator.userAgent.indexOf("Windows Phone"),l=0<navigator.userAgent.indexOf("Android")&&!t,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,h=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),p=c&&/OS [6-7]_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10"),n=!1;s.prototype.needsClick=function(t){for(var e=t;e&&"BODY"!==e.tagName.toUpperCase();){if("LABEL"===e.tagName.toUpperCase()&&(n=!0,/\bneedsclick\b/.test(e.className)))return!0;e=e.parentNode}switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(c&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},s.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!l;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},s.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},s.prototype.determineEventType=function(t){return l&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},s.prototype.focus=function(t){var e;c&&t.setSelectionRange&&-1===["date","time","month","number","email"].indexOf(t.type)?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},s.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},s.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},s.prototype.onTouchStart=function(t){var e,n,i;if(1<t.targetTouches.length)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],c){if((i=window.getSelection()).rangeCount&&!i.isCollapsed)return!0;if(!h){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},s.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},s.prototype.onTouchMove=function(t){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0},s.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},s.prototype.onTouchEnd=function(t){var e,n,i,o,r,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(-1!==["date","time","month"].indexOf(t.target.type))return!1;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,p&&(r=t.changedTouches[0],(a=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||a).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=a.tagName.toLowerCase())){if(e=this.findControl(a)){if(this.focus(a),l)return!1;a=e}}else if(this.needsFocus(a))return 100<t.timeStamp-n||c&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(a),this.sendClick(a,t),c&&"select"===i||(this.targetElement=null,t.preventDefault())),!1;return!(!c||h||(!(o=a.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop))||(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},s.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},s.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!(t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick))||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),n||t.preventDefault(),!1)))},s.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},s.prototype.destroy=function(){var t=this.layer;l&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},s.notNeeded=function(t){var e,n,i;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!l)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(31<n&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(10<=(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=i[2]&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&((e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},s.attach=function(t,e){return new s(t,e)},window.FastClick=s}(),function(c){"use strict";var h=document.createElement("div");c.modalStack=[],c.modalStackClearQueue=function(){c.modalStack.length&&c.modalStack.shift()()},c.modal=function(n){var t,e="";if((n=n||{}).buttons&&0<n.buttons.length)for(var i=0;i<n.buttons.length;i++)e+='<span class="modal-button'+(n.buttons[i].bold?" modal-button-bold":"")+'">'+n.buttons[i].text+"</span>";var o=n.extraClass||"",r=n.title?'<div class="modal-title">'+n.title+"</div>":"",a=n.text?'<div class="modal-text">'+n.text+"</div>":"",s=n.afterText?n.afterText:"";t='<div class="modal '+o+" "+(n.buttons&&0!==n.buttons.length?"":"modal-no-buttons")+'"><div class="modal-inner">'+(r+a+s)+'</div><div class="modal-buttons '+(n.verticalButtons?"modal-buttons-vertical":"")+'">'+e+"</div></div>",h.innerHTML=t;var l=c(h).children();return c(p.modalContainer).append(l[0]),l.find(".modal-button").each(function(e,t){c(t).on("click",function(t){!1!==n.buttons[e].close&&c.closeModal(l),n.buttons[e].onClick&&n.buttons[e].onClick(l,t),n.onClick&&n.onClick(l,e)})}),c.openModal(l),l[0]},c.alert=function(t,e,n){return"function"==typeof e&&(n=arguments[1],e=void 0),c.modal({text:t||"",title:void 0===e?p.modalTitle:e,buttons:[{text:p.modalButtonOk,bold:!0,onClick:n}]})},c.confirm=function(t,e,n,i){return"function"==typeof e&&(i=arguments[2],n=arguments[1],e=void 0),c.modal({text:t||"",title:void 0===e?p.modalTitle:e,buttons:[{text:p.modalButtonCancel,onClick:i},{text:p.modalButtonOk,bold:!0,onClick:n}]})},c.prompt=function(t,e,n,i){return"function"==typeof e&&(i=arguments[2],n=arguments[1],e=void 0),c.modal({text:t||"",title:void 0===e?p.modalTitle:e,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:p.modalButtonCancel},{text:p.modalButtonOk,bold:!0}],onClick:function(t,e){0===e&&i&&i(c(t).find(".modal-text-input").val()),1===e&&n&&n(c(t).find(".modal-text-input").val())}})},c.modalLogin=function(t,e,o,r){return"function"==typeof e&&(r=arguments[2],o=arguments[1],e=void 0),c.modal({text:t||"",title:void 0===e?p.modalTitle:e,afterText:'<input type="text" name="modal-username" placeholder="'+p.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+p.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:p.modalButtonCancel},{text:p.modalButtonOk,bold:!0}],onClick:function(t,e){var n=c(t).find('.modal-text-input[name="modal-username"]').val(),i=c(t).find('.modal-text-input[name="modal-password"]').val();0===e&&r&&r(n,i),1===e&&o&&o(n,i)}})},c.modalPassword=function(t,e,i,o){return"function"==typeof e&&(o=arguments[2],i=arguments[1],e=void 0),c.modal({text:t||"",title:void 0===e?p.modalTitle:e,afterText:'<input type="password" name="modal-password" placeholder="'+p.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:p.modalButtonCancel},{text:p.modalButtonOk,bold:!0}],onClick:function(t,e){var n=c(t).find('.modal-text-input[name="modal-password"]').val();0===e&&o&&o(n),1===e&&i&&i(n)}})},c.showPreloader=function(t){return c.hidePreloader(),c.showPreloader.preloaderModal=c.modal({title:t||p.modalPreloaderTitle,text:'<div class="preloader"></div>'}),c.showPreloader.preloaderModal},c.hidePreloader=function(){c.showPreloader.preloaderModal&&c.closeModal(c.showPreloader.preloaderModal)},c.showIndicator=function(){c(".preloader-indicator-modal")[0]||c(p.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},c.hideIndicator=function(){c(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},c.actions=function(a){var s;0<(a=a||[]).length&&!c.isArray(a[0])&&(a=[a]);for(var t,e="",n=0;n<a.length;n++)for(var i=0;i<a[n].length;i++){0===i&&(e+='<div class="actions-modal-group">');var o=a[n][i],r=o.label?"actions-modal-label":"actions-modal-button";o.bold&&(r+=" actions-modal-button-bold"),o.color&&(r+=" color-"+o.color),o.bg&&(r+=" bg-"+o.bg),o.disabled&&(r+=" disabled"),e+='<span class="'+r+'">'+o.text+"</span>",i===a[n].length-1&&(e+="</div>")}return t='<div class="actions-modal">'+e+"</div>",h.innerHTML=t,s=c(h).children(),c(p.modalContainer).append(s[0]),".actions-modal-group",".actions-modal-button",s.find(".actions-modal-group").each(function(t,e){var r=t;c(e).children().each(function(t,e){var n,i=t,o=a[r][i];c(e).is(".actions-modal-button")&&(n=c(e)),n&&n.on("click",function(t){!1!==o.close&&c.closeModal(s),o.onClick&&o.onClick(s,t)})})}),c.openModal(s),s[0]},c.popup=function(t,e){if(void 0===e&&(e=!0),"string"==typeof t&&0<=t.indexOf("<")){var n=document.createElement("div");if(n.innerHTML=t.trim(),!(0<n.childNodes.length))return!1;t=n.childNodes[0],e&&t.classList.add("remove-on-close"),c(p.modalContainer).append(t)}return 0!==(t=c(t)).length&&(t.show(),t.find(".content").scroller("refresh"),0<t.find("."+p.viewClass).length&&c.sizeNavbars(t.find("."+p.viewClass)[0]),c.openModal(t),t[0])},c.pickerModal=function(t,e){if(void 0===e&&(e=!0),"string"==typeof t&&0<=t.indexOf("<")){if(!(0<(t=c(t)).length))return!1;e&&t.addClass("remove-on-close"),c(p.modalContainer).append(t[0])}return 0!==(t=c(t)).length&&(t.show(),c.openModal(t),t[0])},c.loginScreen=function(t){return t||(t=".login-screen"),0!==(t=c(t)).length&&(t.show(),0<t.find("."+p.viewClass).length&&c.sizeNavbars(t.find("."+p.viewClass)[0]),c.openModal(t),t[0])},c.toast=function(t,e,n){var i=c('<div class="modal toast '+(n||"")+'">'+t+"</div>").appendTo(document.body);c.openModal(i,function(){setTimeout(function(){c.closeModal(i)},e||2e3)})},c.openModal=function(e,t){var n=(e=c(e)).hasClass("modal"),i=!e.hasClass("toast");if(!(c(".modal.modal-in:not(.modal-out)").length&&p.modalStack&&n&&i)){var o,r=e.hasClass("popup"),a=e.hasClass("login-screen"),s=e.hasClass("picker-modal"),l=e.hasClass("toast");return n&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2/1.185)+"px"})),l&&e.css({marginLeft:-Math.round(e.outerWidth()/2/1.185)+"px"}),a||s||l||(0!==c(".modal-overlay").length||r||c(p.modalContainer).append('<div class="modal-overlay"></div>'),0===c(".popup-overlay").length&&r&&c(p.modalContainer).append('<div class="popup-overlay"></div>'),o=c(r?".popup-overlay":".modal-overlay")),e[0].clientLeft,e.trigger("open"),s&&c(p.modalContainer).addClass("with-picker-modal"),a||s||l||o.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),"function"==typeof t&&t.call(this),!0}c.modalStack.push(function(){c.openModal(e,t)})},c.closeModal=function(e){if(void 0===(e=c(e||".modal-in"))||0!==e.length){var t=e.hasClass("modal"),n=e.hasClass("popup"),i=e.hasClass("toast"),o=e.hasClass("login-screen"),r=e.hasClass("picker-modal"),a=e.hasClass("remove-on-close"),s=c(n?".popup-overlay":".modal-overlay");return n?e.length===c(".popup.modal-in").length&&s.removeClass("modal-overlay-visible"):r||i||s.removeClass("modal-overlay-visible"),e.trigger("close"),r&&(c(p.modalContainer).removeClass("with-picker-modal"),c(p.modalContainer).addClass("picker-modal-closing")),e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),r&&c(p.modalContainer).removeClass("picker-modal-closing"),n||o||r?(e.removeClass("modal-out").hide(),a&&0<e.length&&e.remove()):e.remove()}),t&&p.modalStack&&c.modalStackClearQueue(),!0}},c(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",function(t){var e,n=c(this),i=(n.attr("href"),n.dataset());n.hasClass("open-popup")&&(e=i.popup?i.popup:".popup",c.popup(e)),n.hasClass("close-popup")&&(e=i.popup?i.popup:".popup.modal-in",c.closeModal(e)),n.hasClass("modal-overlay")&&(0<c(".modal.modal-in").length&&p.modalCloseByOutside&&c.closeModal(".modal.modal-in"),0<c(".actions-modal.modal-in").length&&p.actionsCloseByOutside&&c.closeModal(".actions-modal.modal-in")),n.hasClass("popup-overlay")&&0<c(".popup.modal-in").length&&p.popupCloseByOutside&&c.closeModal(".popup.modal-in")});var p=c.modal.prototype.defaults={modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body}}(Zepto),function(w){"use strict";var i=function(t){function i(t){var e=(t=new Date(t)).getFullYear(),n=t.getMonth(),i=n+1,o=t.getDate(),r=t.getDay();return T.params.dateFormat.replace(/yyyy/g,e).replace(/yy/g,(e+"").substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m/g,i).replace(/MM/g,T.params.monthNames[n]).replace(/M/g,T.params.monthNamesShort[n]).replace(/dd/g,o<10?"0"+o:o).replace(/d/g,o).replace(/DD/g,T.params.dayNames[r]).replace(/D/g,T.params.dayNamesShort[r])}function e(t){if(t.preventDefault(),w.device.isWeixin&&w.device.android&&T.params.inputReadOnly&&(this.focus(),this.blur()),!T.opened&&(T.open(),T.params.scrollToInput)){var e=T.input.parents(".content");if(0===e.length)return;var n,i=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10),r=e[0].offsetHeight-i-T.container.height(),a=e[0].scrollHeight-i-T.container.height(),s=T.input.offset().top-i+T.input[0].offsetHeight;if(r<s){var l=e.scrollTop()+s-r;a<l+r&&(n=l+r-a+o,r===a&&(n=T.container.height()),e.css({"padding-bottom":n+"px"})),e.scrollTop(l,300)}}}function n(t){T.input&&0<T.input.length?t.target!==T.input[0]&&0===w(t.target).parents(".picker-modal").length&&T.close():0===w(t.target).parents(".picker-modal").length&&T.close()}var T=this,o={monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'};for(var r in t=t||{},o)void 0===t[r]&&(t[r]=o[r]);T.params=t,T.initialized=!1,T.inline=!!T.params.container,T.isH="horizontal"===T.params.direction;var y=(T.isH,1);return T.animating=!1,T.addValue=function(t){if(T.params.multiple){T.value||(T.value=[]);for(var e,n=0;n<T.value.length;n++)new Date(t).getTime()===new Date(T.value[n]).getTime()&&(e=n);void 0===e?T.value.push(t):T.value.splice(e,1),T.updateValue()}else T.value=[t],T.updateValue()},T.setValue=function(t){T.value=t,T.updateValue()},T.updateValue=function(){var t,e;for(T.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected"),t=0;t<T.value.length;t++){var n=new Date(T.value[t]);T.wrapper.find('.picker-calendar-day[data-date="'+n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()+'"]').addClass("picker-calendar-day-selected")}if(T.params.onChange&&T.params.onChange(T,T.value,T.value.map(i)),T.input&&0<T.input.length){if(T.params.formatValue)e=T.params.formatValue(T,T.value);else{for(e=[],t=0;t<T.value.length;t++)e.push(i(T.value[t]));e=e.join(", ")}w(T.input).val(e),w(T.input).trigger("change")}},T.initCalendarEvents=function(){function t(t){r||o||(o=!0,a=c="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s=c="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,h=(new Date).getTime(),g=!(f=0),v=void 0,p=T.monthsTranslate)}function e(t){if(o){if(l="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,c="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===v&&(v=!!(v||Math.abs(c-s)>Math.abs(l-a))),T.isH&&v)return void(o=!1);if(t.preventDefault(),T.animating)return void(o=!1);g=!1,r||(r=!0,u=T.wrapper[0].offsetWidth,d=T.wrapper[0].offsetHeight,T.wrapper.transition(0)),t.preventDefault(),m=T.isH?l-a:c-s,f=m/(T.isH?u:d),p=100*(T.monthsTranslate*y+f),T.wrapper.transform("translate3d("+(T.isH?p:0)+"%, "+(T.isH?0:p)+"%, 0)")}}function n(t){return o&&r?(o=r=!1,(new Date).getTime()-h<300?Math.abs(m)<10?T.resetMonth():10<=m?T.prevMonth():T.nextMonth():f<=-.5?T.nextMonth():.5<=f?T.prevMonth():T.resetMonth(),void setTimeout(function(){g=!0},100)):void(o=r=!1)}function i(t){if(g){var e=w(t.target).parents(".picker-calendar-day");if(0===e.length&&w(t.target).hasClass("picker-calendar-day")&&(e=w(t.target)),0!==e.length&&(!e.hasClass("picker-calendar-day-selected")||T.params.multiple)&&!e.hasClass("picker-calendar-day-disabled")){e.hasClass("picker-calendar-day-next")&&T.nextMonth(),e.hasClass("picker-calendar-day-prev")&&T.prevMonth();var n=e.attr("data-year"),i=e.attr("data-month"),o=e.attr("data-day");T.params.onDayClick&&T.params.onDayClick(T,e[0],n,i,o),T.addValue(new Date(n,i,o).getTime()),T.params.closeOnSelect&&T.close()}}}var o,r,a,s,l,c,h,p,u,d,f,m,v,g=!0;T.container.find(".picker-calendar-prev-month").on("click",T.prevMonth),T.container.find(".picker-calendar-next-month").on("click",T.nextMonth),T.container.find(".picker-calendar-prev-year").on("click",T.prevYear),T.container.find(".picker-calendar-next-year").on("click",T.nextYear),T.wrapper.on("click",i),T.params.touchMove&&(T.wrapper.on(w.touchEvents.start,t),T.wrapper.on(w.touchEvents.move,e),T.wrapper.on(w.touchEvents.end,n)),T.container[0].f7DestroyCalendarEvents=function(){T.container.find(".picker-calendar-prev-month").off("click",T.prevMonth),T.container.find(".picker-calendar-next-month").off("click",T.nextMonth),T.container.find(".picker-calendar-prev-year").off("click",T.prevYear),T.container.find(".picker-calendar-next-year").off("click",T.nextYear),T.wrapper.off("click",i),T.params.touchMove&&(T.wrapper.off(w.touchEvents.start,t),T.wrapper.off(w.touchEvents.move,e),T.wrapper.off(w.touchEvents.end,n))}},T.destroyCalendarEvents=function(t){"f7DestroyCalendarEvents"in T.container[0]&&T.container[0].f7DestroyCalendarEvents()},T.daysInMonth=function(t){var e=new Date(t);return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},T.monthHTML=function(t,e){var n=(t=new Date(t)).getFullYear(),i=t.getMonth();t.getDate(),"next"===e&&(t=11===i?new Date(n+1,0):new Date(n,i+1,1)),"prev"===e&&(t=0===i?new Date(n-1,11):new Date(n,i-1,1)),("next"===e||"prev"===e)&&(i=t.getMonth(),n=t.getFullYear());var o=T.daysInMonth(new Date(t.getFullYear(),t.getMonth()).getTime()-864e6),r=T.daysInMonth(t),a=new Date(t.getFullYear(),t.getMonth()).getDay();0===a&&(a=7);var s,l,c,h=[],p="",u=T.params.firstDay-1+0,d=(new Date).setHours(0,0,0,0),f=T.params.minDate?new Date(T.params.minDate).getTime():null,m=T.params.maxDate?new Date(T.params.maxDate).getTime():null;if(T.value&&T.value.length)for(l=0;l<T.value.length;l++)h.push(new Date(T.value[l]).setHours(0,0,0,0));for(l=1;l<=6;l++){var v="";for(c=1;c<=7;c++){var g=c,y=++u-a,w="";(s=y<0?(y=o+y+1,w+=" picker-calendar-day-prev",new Date(i-1<0?n-1:n,i-1<0?11:i-1,y).getTime()):r<(y+=1)?(y-=r,w+=" picker-calendar-day-next",new Date(11<i+1?n+1:n,11<i+1?0:i+1,y).getTime()):new Date(n,i,y).getTime())===d&&(w+=" picker-calendar-day-today"),0<=h.indexOf(s)&&(w+=" picker-calendar-day-selected"),0<=T.params.weekendDays.indexOf(g-1)&&(w+=" picker-calendar-day-weekend"),(f&&s<f||m&&m<s)&&(w+=" picker-calendar-day-disabled");var x=(s=new Date(s)).getFullYear(),b=s.getMonth();v+='<div data-year="'+x+'" data-month="'+b+'" data-day="'+y+'" class="picker-calendar-day'+w+'" data-date="'+x+"-"+b+"-"+y+'"><span>'+y+"</span></div>"}p+='<div class="picker-calendar-row">'+v+"</div>"}return'<div class="picker-calendar-month" data-year="'+n+'" data-month="'+i+'">'+p+"</div>"},T.animating=!1,T.updateCurrentMonthYear=function(t){T.currentYear=void 0===t?(T.currentMonth=parseInt(T.months.eq(1).attr("data-month"),10),parseInt(T.months.eq(1).attr("data-year"),10)):(T.currentMonth=parseInt(T.months.eq("next"===t?T.months.length-1:0).attr("data-month"),10),parseInt(T.months.eq("next"===t?T.months.length-1:0).attr("data-year"),10)),T.container.find(".current-month-value").text(T.params.monthNames[T.currentMonth]),T.container.find(".current-year-value").text(T.currentYear)},T.onMonthChangeStart=function(t){T.updateCurrentMonthYear(t),T.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e="next"===t?T.months.length-1:0;T.months.eq(e).addClass("picker-calendar-month-current"),T.months.eq("next"===t?e-1:e+1).addClass("next"===t?"picker-calendar-month-prev":"picker-calendar-month-next"),T.params.onMonthYearChangeStart&&T.params.onMonthYearChangeStart(T,T.currentYear,T.currentMonth)},T.onMonthChangeEnd=function(t,e){var n,i,o;T.animating=!1,T.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),void 0===t&&(t="next",e=!0),e?(T.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=T.monthHTML(new Date(T.currentYear,T.currentMonth),"prev"),n=T.monthHTML(new Date(T.currentYear,T.currentMonth),"next")):o=T.monthHTML(new Date(T.currentYear,T.currentMonth),t),("next"===t||e)&&T.wrapper.append(o||n),("prev"===t||e)&&T.wrapper.prepend(o||i),T.months=T.wrapper.find(".picker-calendar-month"),T.setMonthsTranslate(T.monthsTranslate),T.params.onMonthAdd&&T.params.onMonthAdd(T,"next"===t?T.months.eq(T.months.length-1)[0]:T.months.eq(0)[0]),T.params.onMonthYearChangeEnd&&T.params.onMonthYearChangeEnd(T,T.currentYear,T.currentMonth)},T.setMonthsTranslate=function(t){t=t||T.monthsTranslate||0,void 0===T.monthsTranslate&&(T.monthsTranslate=t),T.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var e=100*-(t+1)*y,n=100*-t*y,i=100*-(t-1)*y;T.months.eq(0).transform("translate3d("+(T.isH?e:0)+"%, "+(T.isH?0:e)+"%, 0)").addClass("picker-calendar-month-prev"),T.months.eq(1).transform("translate3d("+(T.isH?n:0)+"%, "+(T.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),T.months.eq(2).transform("translate3d("+(T.isH?i:0)+"%, "+(T.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next")},T.nextMonth=function(t){(void 0===t||"object"==typeof t)&&(t="",T.params.animate||(t=0));var e=parseInt(T.months.eq(T.months.length-1).attr("data-month"),10),n=parseInt(T.months.eq(T.months.length-1).attr("data-year"),10),i=new Date(n,e).getTime(),o=!T.animating;if(T.params.maxDate&&i>new Date(T.params.maxDate).getTime())return T.resetMonth();if(T.monthsTranslate--,e===T.currentMonth){var r=100*-T.monthsTranslate*y,a=w(T.monthHTML(i,"next")).transform("translate3d("+(T.isH?r:0)+"%, "+(T.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next");T.wrapper.append(a[0]),T.months=T.wrapper.find(".picker-calendar-month"),T.params.onMonthAdd&&T.params.onMonthAdd(T,T.months.eq(T.months.length-1)[0])}T.animating=!0,T.onMonthChangeStart("next");var s=100*T.monthsTranslate*y;T.wrapper.transition(t).transform("translate3d("+(T.isH?s:0)+"%, "+(T.isH?0:s)+"%, 0)"),o&&T.wrapper.transitionEnd(function(){T.onMonthChangeEnd("next")}),T.params.animate||T.onMonthChangeEnd("next")},T.prevMonth=function(t){(void 0===t||"object"==typeof t)&&(t="",T.params.animate||(t=0));var e=parseInt(T.months.eq(0).attr("data-month"),10),n=parseInt(T.months.eq(0).attr("data-year"),10),i=new Date(n,e+1,-1).getTime(),o=!T.animating;if(T.params.minDate&&i<new Date(T.params.minDate).getTime())return T.resetMonth();if(T.monthsTranslate++,e===T.currentMonth){var r=100*-T.monthsTranslate*y,a=w(T.monthHTML(i,"prev")).transform("translate3d("+(T.isH?r:0)+"%, "+(T.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev");T.wrapper.prepend(a[0]),T.months=T.wrapper.find(".picker-calendar-month"),T.params.onMonthAdd&&T.params.onMonthAdd(T,T.months.eq(0)[0])}T.animating=!0,T.onMonthChangeStart("prev");var s=100*T.monthsTranslate*y;T.wrapper.transition(t).transform("translate3d("+(T.isH?s:0)+"%, "+(T.isH?0:s)+"%, 0)"),o&&T.wrapper.transitionEnd(function(){T.onMonthChangeEnd("prev")}),T.params.animate||T.onMonthChangeEnd("prev")},T.resetMonth=function(t){void 0===t&&(t="");var e=100*T.monthsTranslate*y;T.wrapper.transition(t).transform("translate3d("+(T.isH?e:0)+"%, "+(T.isH?0:e)+"%, 0)")},T.setYearMonth=function(t,e,n){var i;if(void 0===t&&(t=T.currentYear),void 0===e&&(e=T.currentMonth),(void 0===n||"object"==typeof n)&&(n="",T.params.animate||(n=0)),i=t<T.currentYear?new Date(t,e+1,-1).getTime():new Date(t,e).getTime(),T.params.maxDate&&i>new Date(T.params.maxDate).getTime())return!1;if(T.params.minDate&&i<new Date(T.params.minDate).getTime())return!1;var o=new Date(T.currentYear,T.currentMonth).getTime(),r=o<i?"next":"prev",a=T.monthHTML(new Date(t,e));T.monthsTranslate=T.monthsTranslate||0;var s,l,c=T.monthsTranslate,h=!T.animating;o<i?(T.monthsTranslate--,T.animating||T.months.eq(T.months.length-1).remove(),T.wrapper.append(a),T.months=T.wrapper.find(".picker-calendar-month"),s=100*-(c-1)*y,T.months.eq(T.months.length-1).transform("translate3d("+(T.isH?s:0)+"%, "+(T.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(T.monthsTranslate++,T.animating||T.months.eq(0).remove(),T.wrapper.prepend(a),T.months=T.wrapper.find(".picker-calendar-month"),s=100*-(c+1)*y,T.months.eq(0).transform("translate3d("+(T.isH?s:0)+"%, "+(T.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),T.params.onMonthAdd&&T.params.onMonthAdd(T,"next"===r?T.months.eq(T.months.length-1)[0]:T.months.eq(0)[0]),T.animating=!0,T.onMonthChangeStart(r),l=100*T.monthsTranslate*y,T.wrapper.transition(n).transform("translate3d("+(T.isH?l:0)+"%, "+(T.isH?0:l)+"%, 0)"),h&&T.wrapper.transitionEnd(function(){T.onMonthChangeEnd(r,!0)}),T.params.animate||T.onMonthChangeEnd(r)},T.nextYear=function(){T.setYearMonth(T.currentYear+1)},T.prevYear=function(){T.setYearMonth(T.currentYear-1)},T.layout=function(){var t,e,n,i=T.value&&T.value.length?T.value[0]:(new Date).setHours(0,0,0,0),o='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(T.monthHTML(i,"prev")+T.monthHTML(i)+T.monthHTML(i,"next"))+"</div></div>",r="";if(T.params.weekHeader){for(t=0;t<7;t++){var a=6<t+T.params.firstDay?t-7+T.params.firstDay:t+T.params.firstDay,s=T.params.dayNamesShort[a];r+='<div class="picker-calendar-week-day '+(0<=T.params.weekendDays.indexOf(a)?"picker-calendar-week-day-weekend":"")+'"> '+s+"</div>"}r='<div class="picker-calendar-week-days">'+r+"</div>"}n="picker-modal picker-calendar "+(T.params.cssClass||"");var l=T.params.toolbar?T.params.toolbarTemplate.replace(/{{closeText}}/g,T.params.toolbarCloseText):"";T.params.toolbar&&(l=T.params.toolbarTemplate.replace(/{{closeText}}/g,T.params.toolbarCloseText).replace(/{{monthPicker}}/g,T.params.monthPicker?T.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,T.params.yearPicker?T.params.yearPickerTemplate:"")),e='<div class="'+n+'">'+l+'<div class="picker-modal-inner">'+r+o+"</div></div>",T.pickerHTML=e},T.params.input&&(T.input=w(T.params.input),0<T.input.length&&(T.params.inputReadOnly&&T.input.prop("readOnly",!0),T.inline||T.input.on("click",e))),T.inline||w("html").on("click",n),T.opened=!1,T.open=function(){var t=!1;T.opened||(T.value||T.params.value&&(T.value=T.params.value,t=!0),T.layout(),T.inline?(T.container=w(T.pickerHTML),T.container.addClass("picker-modal-inline"),w(T.params.container).append(T.container)):(T.container=w(w.pickerModal(T.pickerHTML)),w(T.container).on("close",function(){T.opened=!1,T.input&&0<T.input.length&&T.input.parents(".content").css({"padding-bottom":""}),T.params.onClose&&T.params.onClose(T),T.destroyCalendarEvents()})),(T.container[0].f7Calendar=T).wrapper=T.container.find(".picker-calendar-months-wrapper"),T.months=T.wrapper.find(".picker-calendar-month"),T.updateCurrentMonthYear(),T.monthsTranslate=0,T.setMonthsTranslate(),T.initCalendarEvents(),t&&T.updateValue()),T.opened=!0,T.initialized=!0,T.params.onMonthAdd&&T.months.each(function(){T.params.onMonthAdd(T,this)}),T.params.onOpen&&T.params.onOpen(T)},T.close=function(){T.opened&&!T.inline&&w.closeModal(T.container)},T.destroy=function(){T.close(),T.params.input&&0<T.input.length&&T.input.off("click",e),w("html").off("click",n)},T.inline&&T.open(),T};w.fn.calendar=function(n){return this.each(function(){var t=w(this);if(t[0]){var e={};"INPUT"===t[0].tagName.toUpperCase()?e.input=t:e.container=t,new i(w.extend(e,n))}})},w.initCalendar=function(t){w(t||document.body).find("[data-toggle='date']").each(function(){w(this).calendar()})}}(Zepto),function(_){"use strict";var r=function(t){function e(){if(P.opened)for(var t=0;t<P.cols.length;t++)P.cols[t].divider||(P.cols[t].calcSize(),P.cols[t].setValue(P.cols[t].value,0,!1))}function n(t){if(t.preventDefault(),_.device.isWeixin&&_.device.android&&P.params.inputReadOnly&&(this.focus(),this.blur()),!P.opened&&(P.open(),P.params.scrollToInput)){var e=P.input.parents(".content");if(0===e.length)return;var n,i=parseInt(e.css("padding-top"),10),o=parseInt(e.css("padding-bottom"),10),r=e[0].offsetHeight-i-P.container.height(),a=e[0].scrollHeight-i-P.container.height(),s=P.input.offset().top-i+P.input[0].offsetHeight;if(r<s){var l=e.scrollTop()+s-r;a<l+r&&(n=l+r-a+o,r===a&&(n=P.container.height()),e.css({"padding-bottom":n+"px"})),e.scrollTop(l,300)}}}function i(t){P.opened&&(P.input&&0<P.input.length?t.target!==P.input[0]&&0===_(t.target).parents(".picker-modal").length&&P.close():0===_(t.target).parents(".picker-modal").length&&P.close())}var P=this,o={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"确定",toolbarTemplate:'<header class="bar bar-nav">                <button class="button button-link pull-right close-picker">确定</button>                <h1 class="title">请选择</h1>                </header>'};for(var r in t=t||{},o)void 0===t[r]&&(t[r]=o[r]);P.params=t,P.cols=[],P.initialized=!1,P.inline=!!P.params.container;var D=_.device.ios||0<=navigator.userAgent.toLowerCase().indexOf("safari")&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!_.device.android;return P.setValue=function(t,e){for(var n=0,i=0;i<P.cols.length;i++)P.cols[i]&&!P.cols[i].divider&&(P.cols[i].setValue(t[n],e),n++)},P.updateValue=function(){for(var t=[],e=[],n=0;n<P.cols.length;n++)P.cols[n].divider||(t.push(P.cols[n].value),e.push(P.cols[n].displayValue));0<=t.indexOf(void 0)||(P.value=t,P.displayValue=e,P.params.onChange&&P.params.onChange(P,P.value,P.displayValue),P.input&&0<P.input.length&&(_(P.input).val(P.params.formatValue?P.params.formatValue(P,P.value,P.displayValue):P.value.join(" ")),_(P.input).trigger("change")))},P.initPickerCol=function(t,e){function r(){f=_.requestAnimationFrame(function(){c.updateItems(void 0,void 0,0),r()})}function n(t){v||m||(t.preventDefault(),m=!0,g=y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,w=(new Date).getTime(),M=!0,b=C=_.getTranslate(c.wrapper[0],"y"))}function i(t){m&&(t.preventDefault(),M=!1,y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,v||(_.cancelAnimationFrame(f),v=!0,b=C=_.getTranslate(c.wrapper[0],"y"),c.wrapper.transition(0)),t.preventDefault(),T=void 0,(C=b+(y-g))<u&&(C=u-Math.pow(u-C,.8),T="min"),d<C&&(C=d+Math.pow(C-d,.8),T="max"),c.wrapper.transform("translate3d(0,"+C+"px,0)"),c.updateItems(void 0,C,0,P.params.updateValuesOnTouchmove),S=C-k||C,E=(new Date).getTime(),k=C)}function o(t){if(m&&v){var e;m=v=!1,c.wrapper.transition(""),T&&("min"===T?c.wrapper.transform("translate3d(0,"+u+"px,0)"):c.wrapper.transform("translate3d(0,"+d+"px,0)")),e=300<(x=(new Date).getTime())-w?C:(Math.abs(S/(x-E)),C+S*P.params.momentumRatio),e=Math.max(Math.min(e,d),u);var n=-Math.floor((e-d)/h);P.params.freeMode||(e=-n*h+d),c.wrapper.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),c.updateItems(n,e,"",!0),P.params.updateValuesOnMomentum&&(r(),c.wrapper.transitionEnd(function(){_.cancelAnimationFrame(f)})),setTimeout(function(){M=!0},100)}else m=v=!1}function a(t){if(M){_.cancelAnimationFrame(f);var e=_(this).attr("data-picker-value");c.setValue(e)}}var s=_(t),l=s.index(),c=P.cols[l];if(!c.divider){var h,p,u,d,f;c.container=s,c.wrapper=c.container.find(".picker-items-col-wrapper"),c.items=c.wrapper.find(".picker-item"),c.replaceValues=function(t,e){c.destroyEvents(),c.values=t,c.displayValues=e;var n=P.columnHTML(c,!0);c.wrapper.html(n),c.items=c.wrapper.find(".picker-item"),c.calcSize(),c.setValue(c.values[0],0,!0),c.initEvents()},c.calcSize=function(){var e,t;P.params.rotateEffect&&(c.container.removeClass("picker-items-col-absolute"),c.width||c.container.css({width:""})),e=0,t=c.container[0].offsetHeight,c.wrapper[0].offsetHeight,h=c.items[0].offsetHeight,p=h*c.items.length,u=t/2-p+h/2,d=t/2-h/2,c.width&&(e=c.width,parseInt(e,10)===e&&(e+="px"),c.container.css({width:e})),P.params.rotateEffect&&(c.width||(c.items.each(function(){var t=_(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),c.container.css({width:e+2+"px"})),c.container.addClass("picker-items-col-absolute"))},c.calcSize(),c.wrapper.transform("translate3d(0,"+d+"px,0)").transition(0),c.setValue=function(t,e,n){void 0===e&&(e="");var i=c.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if(void 0!==i&&-1!==i){var o=-i*h+d;c.wrapper.transition(e),c.wrapper.transform("translate3d(0,"+o+"px,0)"),P.params.updateValuesOnMomentum&&c.activeIndex&&c.activeIndex!==i&&(_.cancelAnimationFrame(f),c.wrapper.transitionEnd(function(){_.cancelAnimationFrame(f)}),r()),c.updateItems(i,o,e,n)}},c.updateItems=function(t,o,e,n){void 0===o&&(o=_.getTranslate(c.wrapper[0],"y")),void 0===t&&(t=-Math.round((o-d)/h)),t<0&&(t=0),t>=c.items.length&&(t=c.items.length-1);var i=c.activeIndex;c.activeIndex=t,c.wrapper.find(".picker-selected").removeClass("picker-selected"),P.params.rotateEffect&&c.items.transition(e);var r=c.items.eq(t).addClass("picker-selected").transform("");(n||void 0===n)&&(c.value=r.attr("data-picker-value"),c.displayValue=c.displayValues?c.displayValues[t]:c.value,i!==t&&(c.onChange&&c.onChange(P,c.value,c.displayValue),P.updateValue())),P.params.rotateEffect&&(Math.floor((o-d)/h),c.items.each(function(){var t=_(this),e=(t.index()*h-(d-o))/h,n=Math.ceil(c.height/h/2)+1,i=-18*e;180<i&&(i=180),i<-180&&(i=-180),Math.abs(e)>n?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-o+d)+"px, "+(D?-110:0)+"px) rotateX("+i+"deg)")}))},e&&c.updateItems(0,d,0);var m,v,g,y,w,x,b,T,C,k,S,E,M=!0;c.initEvents=function(t){var e=t?"off":"on";c.container[e](_.touchEvents.start,n),c.container[e](_.touchEvents.move,i),c.container[e](_.touchEvents.end,o),c.items[e]("click",a)},c.destroyEvents=function(){c.initEvents(!0)},c.container[0].f7DestroyPickerCol=function(){c.destroyEvents()},c.initEvents()}},P.destroyPickerCol=function(t){"f7DestroyPickerCol"in(t=_(t))[0]&&t[0].f7DestroyPickerCol()},_(window).on("resize",e),P.columnHTML=function(t,e){var n="",i="";if(t.divider)i+='<div class="picker-items-col picker-items-col-divider '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'">'+t.content+"</div>";else{for(var o=0;o<t.values.length;o++)n+='<div class="picker-item" data-picker-value="'+t.values[o]+'">'+(t.displayValues?t.displayValues[o]:t.values[o])+"</div>";i+='<div class="picker-items-col '+(t.textAlign?"picker-items-col-"+t.textAlign:"")+" "+(t.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return e?n:i},P.layout=function(){var t,e;P.cols=[];var n="";for(t=0;t<P.params.cols.length;t++){var i=P.params.cols[t];n+=P.columnHTML(P.params.cols[t]),P.cols.push(i)}e='<div class="'+("picker-modal picker-columns "+(P.params.cssClass||"")+(P.params.rotateEffect?" picker-3d":""))+'">'+(P.params.toolbar?P.params.toolbarTemplate.replace(/{{closeText}}/g,P.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+n+'<div class="picker-center-highlight"></div></div></div>',P.pickerHTML=e},P.params.input&&(P.input=_(P.params.input),0<P.input.length&&(P.params.inputReadOnly&&P.input.prop("readOnly",!0),P.inline||P.input.on("click",n))),P.inline||_("html").on("click",i),P.opened=!1,P.open=function(){P.opened||(P.layout(),P.inline?(P.container=_(P.pickerHTML),P.container.addClass("picker-modal-inline"),_(P.params.container).append(P.container),P.opened=!0):(P.container=_(_.pickerModal(P.pickerHTML)),_(P.container).one("opened",function(){P.opened=!0}).on("close",function(){P.opened=!1,P.input&&0<P.input.length&&P.input.parents(".content").css({"padding-bottom":""}),P.params.onClose&&P.params.onClose(P),P.container.find(".picker-items-col").each(function(){P.destroyPickerCol(this)})})),(P.container[0].f7Picker=P).container.find(".picker-items-col").each(function(){var t=!0;(!P.initialized&&P.params.value||P.initialized&&P.value)&&(t=!1),P.initPickerCol(this,t)}),P.initialized?P.value&&P.setValue(P.value,0):P.params.value&&P.setValue(P.params.value,0)),P.initialized=!0,P.params.onOpen&&P.params.onOpen(P)},P.close=function(){P.opened&&!P.inline&&_.closeModal(P.container)},P.destroy=function(){P.close(),P.params.input&&0<P.input.length&&P.input.off("click",n),_("html").off("click",i),_(window).off("resize",e)},P.inline&&P.open(),P};_(document).on("click",".close-picker",function(){var t=_(".picker-modal.modal-in");_.closeModal(t)}),_.fn.picker=function(i){var o=arguments;return this.each(function(){if(this){var t=_(this),e=t.data("picker");if(!e){var n=_.extend({input:this,value:t.val()?t.val().split(" "):""},i);e=new r(n),t.data("picker",e)}"string"==typeof i&&e[i].apply(e,Array.prototype.slice.call(o,1))}})}}(Zepto),function(n){"use strict";var t=new Date,c=function(t){for(var e=[],n=1;n<=(t||31);n++)e.push(n<10?"0"+n:n);return e},e=function(t){return t<10?"0"+t:t},i="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),o=function(){for(var t=[],e=1950;e<=2030;e++)t.push(e);return t}(),r={rotateEffect:!1,value:[t.getFullYear(),e(t.getMonth()+1),e(t.getDate()),t.getHours(),e(t.getMinutes())],onChange:function(t,e,n){var i,o,r,a,s=(i=t.cols[1].value,o=t.cols[0].value,r=new Date(o,parseInt(i)+1-1,1),a=new Date(r-1),c(a.getDate())),l=t.cols[2].value;l>s.length&&(l=s.length),t.cols[2].setValue(l)},formatValue:function(t,e,n){return n[0]+"-"+e[1]+"-"+e[2]+" "+e[3]+":"+e[4]},cols:[{values:o},{values:i},{values:c()},{divider:!0,content:"  "},{values:function(){for(var t=[],e=0;e<=23;e++)t.push(e);return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<=59;e++)t.push(e<10?"0"+e:e);return t}()}]};n.fn.datetimePicker=function(e){return this.each(function(){if(this){var t=n.extend(r,e);n(this).picker(t),e.value&&n(this).val(t.formatValue(t,t.value,t.value))}})}}(Zepto),function(r){"use strict";function t(t,e){for(var n in this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=$(this.wrapper).find(".content-inner")[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,eventPassthrough:void 0},e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&m.hasPerspective?" translateZ(0)":"",this.options.useTransition=m.hasTransition&&this.options.useTransition,this.options.useTransform=m.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?m.ease[this.options.bounceEasing]||m.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3===this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(t,e,n){var i=document.createElement("div"),o=document.createElement("div");return!0===n&&(i.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator",i.className="h"===t?(!0===n&&(i.style.cssText+=";height:5px;left:2px;right:2px;bottom:0",o.style.height="100%"),"iScrollHorizontalScrollbar"):(!0===n&&(i.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px",o.style.width="100%"),"iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",e||(i.style.pointerEvents="none"),i.appendChild(o),i}function l(t,e){for(var n in this.wrapper="string"==typeof e.el?document.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[n]=e[n];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(m.addEvent(this.indicator,"touchstart",this),m.addEvent(r,"touchend",this)),this.options.disablePointer||(m.addEvent(this.indicator,m.prefixPointerEvent("pointerdown"),this),m.addEvent(r,m.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(m.addEvent(this.indicator,"mousedown",this),m.addEvent(r,"mouseup",this))),this.options.fade&&(this.wrapperStyle[m.style.transform]=this.scroller.translateZ,this.wrapperStyle[m.style.transitionDuration]=m.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var f=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){r.setTimeout(t,1e3/60)},m=function(){function t(t){return!1!==e&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}var i={},o=document.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,n=t.length;e<n;e++)if(t[e]+"ransform"in o)return t[e].substr(0,t[e].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(t,e){for(var n in e)t[n]=e[n]},i.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},i.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},i.prefixPointerEvent=function(t){return r.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},i.momentum=function(t,e,n,i,o,r,a){var s,l,c=t-e,h=Math.abs(c)/n;l=(h=1.5<(h/=2)?1.5:h)/(r=void 0===r?6e-4:r),(s=t+h*h/(2*r)*(c<0?-1:1))<i?(s=o?i-o/2.5*(h/8):i,c=Math.abs(s-t),l=c/h):0<s&&(s=o?o/2.5*(h/8):0,c=Math.abs(t)+s,l=c/h);var p=+new Date,u=p;return f(function t(){50<+new Date-u&&(a._execEvent("scroll"),u=+new Date),+new Date-p<l&&f(t)}),{destination:Math.round(s),duration:l}};var n=t("transform");return i.extend(i,{hasTransform:!1!==n,hasPerspective:t("perspective")in o,hasTouch:"ontouchstart"in r,hasPointer:r.PointerEvent||r.MSPointerEvent,hasTransition:t("transition")in o}),i.isBadAndroid=/Android /.test(r.navigator.appVersion)&&!/Chrome\/\d/.test(r.navigator.appVersion)&&!1,i.extend(i.style={},{transform:n,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),i.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},i.addClass=function(t,e){if(!i.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},i.removeClass=function(t,e){if(i.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},i.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},i.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1===t?1:.4*Math.pow(2,-10*t)*Math.sin((t-.055)*(2*Math.PI)/.22)+1}}}),i.tap=function(t,e){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},i.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,n.dispatchEvent(e))},i}();t.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1===m.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||m.eventType[t.type]===this.initiated)){!this.options.preventDefault||m.isBadAndroid||m.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=m.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=m.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(Math.round(e.x),Math.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,i,o,r=t.touches?t.touches[0]:t,a=r.pageX-this.pointX,s=r.pageY-this.pointY,l=m.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=a,this.distY+=s,i=Math.abs(this.distX),o=Math.abs(this.distY),!(300<l-this.endTime&&i<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked="h":o>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);s=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,s=this.hasVerticalScroll?s:0,e=this.x+a,n=this.y+s,(0<e||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:0<e?0:this.maxScrollX),(0<n||n<this.maxScrollY)&&(n=this.options.bounce?this.y+s/3:0<n?0:this.maxScrollY),this.directionX=0<a?-1:a<0?1:0,this.directionY=0<s?-1:s<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),300<l-this.startTime&&(this.startTime=l,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this._execEvent("scroll")),1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&!m.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,i=m.getTime()-this.startTime,o=Math.round(this.x),r=Math.round(this.y),a=Math.abs(o-this.startX),s=Math.abs(r-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=m.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&m.tap(t,this.options.tap),this.options.click&&m.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&a<100&&s<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(e=this.hasHorizontalScroll?m.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:o,duration:0},n=this.hasVerticalScroll?m.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:r,duration:0},o=e.destination,r=n.destination,l=Math.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var h=this._nearestSnap(o,r);this.currentPage=h,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-h.x),1e3),Math.min(Math.abs(r-h.y),1e3)),300),o=h.x,r=h.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}return o!==this.x||r!==this.y?((0<o||o<this.maxScrollX||0<r||r<this.maxScrollY)&&(c=m.ease.quadratic),void this.scrollTo(o,r,l,c)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;if(t=t||0,!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||0<this.y?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),e===this.x&&n===this.y)return!1;if(this.options.ptr&&44<this.y&&-1*this.startY<$(r).height()&&!this.ptrLock){n=this.options.ptrOffset||44,this._execEvent("ptr"),this.ptrLock=!0;var i=this;setTimeout(function(){i.ptrLock=!1},500)}return this.scrollTo(e,n,t,this.options.bounceEasing),!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=m.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);-1<n&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||m.ease.circular,this.isInTransition=this.options.useTransition&&0<n,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,i,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=m.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,!0===n&&(n=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=n||0,r.top-=i||0,r.left=0<r.left?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=0<r.top?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=null==e||"auto"===e?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,o)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[m.style.transitionDuration]=t+"ms",!t&&m.isBadAndroid&&(this.scrollerStyle[m.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[m.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[m.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var e=t?m.removeEvent:m.addEvent,n=this.options.bindToWrapper?this.wrapper:r;e(r,"orientationchange",this),e(r,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(n,"mousemove",this),e(n,"mousecancel",this),e(n,"mouseup",this)),m.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,m.prefixPointerEvent("pointerdown"),this),e(n,m.prefixPointerEvent("pointermove"),this),e(n,m.prefixPointerEvent("pointercancel"),this),e(n,m.prefixPointerEvent("pointerup"),this)),m.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(n,"touchmove",this),e(n,"touchcancel",this),e(n,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,n=r.getComputedStyle(this.scroller,null);return e=this.options.useTransform?(t=+((n=n[m.style.transform].split(")")[0].split(", "))[12]||n[4]),+(n[13]||n[5])):(t=+n.left.replace(/[^-\d.]/g,""),+n.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){function t(t){for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,o=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:s("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var a=o.length;a--;)this.indicators.push(new l(this,o[a]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){m.addEvent(this.wrapper,"wheel",this),m.addEvent(this.wrapper,"mousewheel",this),m.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){m.removeEvent(this.wrapper,"wheel",this),m.removeEvent(this.wrapper,"mousewheel",this),m.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,i,o,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)n=1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return i=this.currentPage.pageX,o=this.currentPage.pageY,0<e?i--:e<0&&i++,0<n?o--:n<0&&o++,void this.goToPage(i,o);i=this.x+Math.round(this.hasHorizontalScroll?e:0),o=this.y+Math.round(this.hasVerticalScroll?n:0),0<i?i=0:i<this.maxScrollX&&(i=this.maxScrollX),0<o?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(i,o,0),this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,i,o,r,a=0,s=0,l=0,c=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=Math.round(c/2),i=Math.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],o=t=0;o>-this.scrollerHeight;)this.pages[a][t]={x:Math.max(l,this.maxScrollX),y:Math.max(o,this.maxScrollY),width:c,height:h,cx:l-n,cy:o-i},o-=h,t++;l-=c,a++}else for(t=(r=this.options.snap).length,e=-1;a<t;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(s=0,e++),this.pages[s]||(this.pages[s]=[]),l=Math.max(-r[a].offsetLeft,this.maxScrollX),o=Math.max(-r[a].offsetTop,this.maxScrollY),n=l-Math.round(r[a].offsetWidth/2),i=o-Math.round(r[a].offsetHeight/2),this.pages[s][e]={x:l,y:o,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:n,cy:i},l>this.maxScrollX&&s++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,o=0;if(Math.abs(t-this.absStartX)<this.snapThresholdX&&Math.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<i;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(i=this.pages[n].length;o<i;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return n===this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),o===this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:n,pageY:o}},goToPage:function(t,e,n,i){i=i||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,r=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):n,this.currentPage={x:o,y:r,pageX:t,pageY:e},this.scrollTo(o,r,n,i)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(){var t,e={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in e)this.options.keyBindings[t]=this.options.keyBindings[t]||e[t];m.addEvent(r,"keydown",this),this.on("destroy",function(){m.removeEvent(r,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,i=n?this.currentPage.pageX:this.x,o=n?this.currentPage.pageY:this.y,r=m.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(Math.round(e.x),Math.round(e.y)),this.isInTransition=!1),this.keyAcceleration=r-a<200?Math.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:o+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:o-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,o=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=i=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(i,o);0<i?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),0<o?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,o,0),this.keyTime=r}},_animate:function(r,a,s,l){var c=this,h=this.x,p=this.y,u=m.getTime(),d=u+s;this.isAnimating=!0,function t(){var e,n,i,o=m.getTime();return d<=o?(c.isAnimating=!1,c._translate(r,a),void(c.resetPosition(c.options.bounceTime)||c._execEvent("scrollEnd"))):(i=l(o=(o-u)/s),e=(r-h)*i+h,n=(a-p)*i+p,c._translate(e,n),c.isAnimating&&f(t),void(3===c.options.probeType&&c._execEvent("scroll")))}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},l.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(m.removeEvent(this.indicator,"touchstart",this),m.removeEvent(this.indicator,m.prefixPointerEvent("pointerdown"),this),m.removeEvent(this.indicator,"mousedown",this),m.removeEvent(r,"touchmove",this),m.removeEvent(r,m.prefixPointerEvent("pointermove"),this),m.removeEvent(r,"mousemove",this),m.removeEvent(r,"touchend",this),m.removeEvent(r,m.prefixPointerEvent("pointerup"),this),m.removeEvent(r,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=m.getTime(),this.options.disableTouch||m.addEvent(r,"touchmove",this),this.options.disablePointer||m.addEvent(r,m.prefixPointerEvent("pointermove"),this),this.options.disableMouse||m.addEvent(r,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,o,r=t.touches?t.touches[0]:t,a=m.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),1===this.scroller.options.probeType&&300<a-this.startTime?(this.startTime=a,this.scroller._execEvent("scroll")):1<this.scroller.options.probeType&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),m.removeEvent(r,"touchmove",this),m.removeEvent(r,m.prefixPointerEvent("pointermove"),this),m.removeEvent(r,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-e.x),1e3),Math.min(Math.abs(this.scroller.y-e.y),1e3)),300);(this.scroller.x!==e.x||this.scroller.y!==e.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[m.style.transitionDuration]=t+"ms",!t&&m.isBadAndroid&&(this.indicatorStyle[m.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[m.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(m.addClass(this.wrapper,"iScrollBothScrollbars"),m.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(m.removeClass(this.wrapper,"iScrollBothScrollbars"),m.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=Math.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?t="scale"===this.options.shrink?(this.width=Math.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?e="scale"===this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[m.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?Math.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?Math.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[m.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},t.utils=m,r.IScroll=t}(window),function(c){"use strict";var i={scrollTop:c.fn.scrollTop,scrollLeft:c.fn.scrollLeft};c.extend(c.fn,{scrollTop:function(t,e){if(this.length){var n=this.data("scroller");return n&&n.scroller?n.scrollTop(t,e):i.scrollTop.apply(this,arguments)}}}),c.extend(c.fn,{scrollLeft:function(t,e){if(this.length){var n=this.data("scroller");return n&&n.scroller?n.scrollLeft(t,e):i.scrollLeft.apply(this,arguments)}}});var a=function(t,e){var n=this.$pageContent=c(t);this.options=c.extend({},this._defaults,e);var i=this.options.type;if("js"===i||"auto"===i&&c.device.android&&-1<c.compareVersion("4.4.0",c.device.osVersion)||"auto"===i&&c.device.ios&&-1<c.compareVersion("6.0.0",c.device.osVersion)){if(!n.find(".content-inner")[0])n.children().length<1?n.children().wrapAll('<div class="content-inner"></div>'):n.html('<div class="content-inner">'+n.html()+"</div>");if(n.hasClass("pull-to-refresh-content")){var o=c(window).height()+(n.prev().hasClass(".bar")?1:61);n.find(".content-inner").css("min-height",o+"px")}var r=c(t).hasClass("pull-to-refresh-content"),a=0===n.find(".fixed-tab").length,s={probeType:1,mouseWheel:!0,click:c.device.androidChrome,useTransform:a,scrollX:!0};r&&(s.ptr=!0,s.ptrOffset=44),this.scroller=new IScroll(t,s),this._bindEventToDomWhenJs(),c.initPullToRefresh=c._pullToRefreshJSScroll.initPullToRefresh,c.pullToRefreshDone=c._pullToRefreshJSScroll.pullToRefreshDone,c.pullToRefreshTrigger=c._pullToRefreshJSScroll.pullToRefreshTrigger,c.destroyToRefresh=c._pullToRefreshJSScroll.destroyToRefresh,n.addClass("javascript-scroll"),a||n.find(".content-inner").css({width:"100%",position:"absolute"});var l=this.$pageContent[0].scrollTop;l&&(this.$pageContent[0].scrollTop=0,this.scrollTop(l))}else n.addClass("native-scroll")};a.prototype={_defaults:{type:"native"},_bindEventToDomWhenJs:function(){if(this.scroller){var t=this;this.scroller.on("scrollStart",function(){t.$pageContent.trigger("scrollstart")}),this.scroller.on("scroll",function(){t.$pageContent.trigger("scroll")}),this.scroller.on("scrollEnd",function(){t.$pageContent.trigger("scrollend")})}},scrollTop:function(t,e){return this.scroller?void 0===t?-1*this.scroller.getComputedPosition().y:(this.scroller.scrollTo(0,-1*t,e),this):this.$pageContent.scrollTop(t,e)},scrollLeft:function(t,e){return this.scroller?void 0===t?-1*this.scroller.getComputedPosition().x:(this.scroller.scrollTo(-1*t,0),this):this.$pageContent.scrollTop(t,e)},on:function(t,e){return this.scroller?this.scroller.on(t,function(){e.call(this.wrapper)}):this.$pageContent.on(t,e),this},off:function(t,e){return this.scroller?this.scroller.off(t,e):this.$pageContent.off(t,e),this},refresh:function(){return this.scroller&&this.scroller.refresh(),this},scrollHeight:function(){return this.scroller?this.scroller.scrollerHeight:this.$pageContent[0].scrollHeight}};var t=c.fn.scroller;c.fn.scroller=function(i){var o,r=Array.apply(null,arguments);return r.shift(),this.each(function(){var t=c(this),e=c.extend({},t.dataset(),"object"==typeof i&&i),n=t.data("scroller");return n||t.data("scroller",n=new a(this,e)),("string"!=typeof i||"function"!=typeof n[i]||void 0===(o=n[i].apply(n,r)))&&void 0}),void 0!==o?o:this},c.fn.scroller.Constructor=a,c.fn.scroller.noConflict=function(){return c.fn.scroller=t,this},c(function(){c('[data-toggle="scroller"]').scroller()}),c.refreshScroller=function(t){t?c(t).scroller("refresh"):c(".javascript-scroll").each(function(){c(this).scroller("refresh")})},c.initScroller=function(t){this.options=c.extend({},"object"==typeof t&&t),c('[data-toggle="scroller"],.content').scroller(t)},c.getScroller=function(t){return(t=t.hasClass("content")?t:t.parents(".content"))?c(t).data("scroller"):c(".content.javascript-scroll").data("scroller")},c.detectScrollerType=function(t){return t?c(t).data("scroller")&&c(t).data("scroller").scroller?"js":"native":void 0}}(Zepto),function(l){"use strict";var n=function(t,e,n){var i=l(t);if(2===arguments.length&&"boolean"==typeof e&&(n=e),0===i.length)return!1;if(i.hasClass("active"))return n&&i.trigger("show"),!1;var o=i.parent(".tabs");if(0===o.length)return!1;var r=o.children(".tab.active").removeClass("active");if(i.addClass("active"),i.trigger("show"),e?e=l(e):(!(e=l("string"==typeof t?'.tab-link[href="'+t+'"]':'.tab-link[href="#'+i.attr("id")+'"]'))||e&&0===e.length)&&l("[data-tab]").each(function(){i.is(l(this).attr("data-tab"))&&(e=l(this))}),0!==e.length){var a;if(r&&0<r.length){var s=r.attr("id");s&&(a=l('.tab-link[href="#'+s+'"]')),(!a||a&&0===a.length)&&l("[data-tab]").each(function(){r.is(l(this).attr("data-tab"))&&(a=l(this))})}return e&&0<e.length&&e.addClass("active"),a&&0<a.length&&a.removeClass("active"),e.trigger("active"),!0}},t=l.showTab;l.showTab=n,l.showTab.noConflict=function(){return l.showTab=t,this},l(document).on("click",".tab-link",function(t){t.preventDefault();var e=l(this);n(e.data("tab")||e.attr("href"),e)})}(Zepto),function(r){"use strict";r.initFixedTab=function(){0!==r(".fixed-tab").length&&r(".fixed-tab").fixedTab()};var o=function(t,e){var n=this.$pageContent=r(t),i=n.clone(),o=n[0].getBoundingClientRect().top;i.css("visibility","hidden"),this.options=r.extend({},this._defaults,{fixedTop:o,shadow:i,offset:0},e),this._bindEvents()};o.prototype={_defaults:{offset:0},_bindEvents:function(){this.$pageContent.parents(".content").on("scroll",this._scrollHandler.bind(this)),this.$pageContent.on("active",".tab-link",this._tabLinkHandler.bind(this))},_tabLinkHandler:function(t){var e=0<r(t.target).parents(".buttons-fixed").length,n=this.options.fixedTop,i=this.options.offset;r.refreshScroller(),e&&this.$pageContent.parents(".content").scrollTop(n-i)},_scrollHandler:function(t){var e=r(t.target),n=this.$pageContent,i=this.options.shadow,o=this.options.offset;this.options.fixedTop-o<=e.scrollTop()?(i.insertAfter(n),n.addClass("buttons-fixed").css("top",o)):(i.remove(),n.removeClass("buttons-fixed").css("top",0))}},r.fn.fixedTab=function(i){Array.apply(null,arguments).shift(),this.each(function(){var t=r(this),e=r.extend({},t.dataset(),"object"==typeof i&&i),n=t.data("fixedtab");n||t.data("fixedtab",n=new o(this,e))})},r.fn.fixedTab.Constructor=o,r(document).on("pageInit",function(){r.initFixedTab()})}(Zepto),function(s){"use strict";var l=0;s._pullToRefreshJSScroll={initPullToRefresh:function(t){function e(){a.hasClass("refreshing")||(44<=-1*r.scrollTop()?a.removeClass("pull-down").addClass("pull-up"):a.removeClass("pull-up").addClass("pull-down"))}function n(){a.hasClass("refreshing")||(a.removeClass("pull-down pull-up"),a.addClass("refreshing transitioning"),a.trigger("refresh"),l=+new Date)}var i=s(t);if(i.hasClass("pull-to-refresh-content")||(i=i.find(".pull-to-refresh-content")),i&&0!==i.length){var o=i.hasClass("content")?i:i.parents(".content"),r=s.getScroller(o[0]);if(r){var a=i;r.on("scroll",e),r.scroller.on("ptr",n),i[0].destroyPullToRefresh=function(){r.off("scroll",e),r.scroller.off("ptr",n)}}}},pullToRefreshDone:function(t){if(0===(t=s(t)).length&&(t=s(".pull-to-refresh-content.refreshing")),0!==t.length){var e=+new Date-l,n=1e3<e?0:1e3-e,i=s.getScroller(t);setTimeout(function(){i.refresh(),t.removeClass("refreshing"),t.transitionEnd(function(){t.removeClass("transitioning")})},n)}},pullToRefreshTrigger:function(t){0===(t=s(t)).length&&(t=s(".pull-to-refresh-content")),t.hasClass("refreshing")||(t.addClass("refreshing"),s.getScroller(t).scrollTop(45,200),t.trigger("refresh"))},destroyPullToRefresh:function(t){var e=(t=s(t)).hasClass("pull-to-refresh-content")?t:t.find(".pull-to-refresh-content");0!==e.length&&e[0].destroyPullToRefresh&&e[0].destroyPullToRefresh()}}}(Zepto),function(w){"use strict";w.initPullToRefresh=function(t){function e(t){if(r){if(!w.device.android)return;if("targetTouches"in t&&1<t.targetTouches.length)return}r=!(a=!1),u=s=void 0,m.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,m.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,(new Date).getTime(),c=w(this)}function n(t){if(r){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===s&&(s=!!(s||Math.abs(n-m.y)>Math.abs(e-m.x))),!s)return void(r=!1);if(p=c[0].scrollTop,void 0===u&&0!==p&&(u=!0),!a){if(c.removeClass("transitioning"),p>c[0].offsetHeight)return void(r=!1);f&&(0<=(d=c.attr("data-ptr-distance")).indexOf("%")&&(d=c[0].offsetHeight*parseInt(d,10)/100)),y=c.hasClass("refreshing")?d:0,g=c[0].scrollHeight===c[0].offsetHeight||!w.device.ios,g=!0}return a=!0,0<(l=n-m.y)&&p<=0||p<0?(w.device.ios&&7<parseInt(w.device.osVersion.split(".")[0],10)&&0===p&&!u&&(g=!0),g&&(t.preventDefault(),h=Math.pow(l,.85)+y,c.transform("translate3d(0,"+h+"px,0)")),void(g&&Math.pow(l,.85)>d||!g&&2*d<=l?(v=!0,c.addClass("pull-up").removeClass("pull-down")):(v=!1,c.removeClass("pull-up").addClass("pull-down")))):(c.removeClass("pull-up pull-down"),void(v=!1))}}function i(){if(r&&a){if(h&&(c.addClass("transitioning"),h=0),c.transform(""),v){if(c.hasClass("refreshing"))return;c.addClass("refreshing"),c.trigger("refresh")}else c.removeClass("pull-down");a=r=!1}else a=r=!1}var o=w(t);if(o.hasClass("pull-to-refresh-content")||(o=o.find(".pull-to-refresh-content")),o&&0!==o.length){var r,a,s,l,c,h,p,u,d,f,m={},v=!1,g=!1,y=0;(c=o).attr("data-ptr-distance")?f=!0:d=44,o.on(w.touchEvents.start,e),o.on(w.touchEvents.move,n),o.on(w.touchEvents.end,i),o[0].destroyPullToRefresh=function(){o.off(w.touchEvents.start,e),o.off(w.touchEvents.move,n),o.off(w.touchEvents.end,i)}}},w.pullToRefreshDone=function(t){w(window).scrollTop(0),0===(t=w(t)).length&&(t=w(".pull-to-refresh-content.refreshing")),t.removeClass("refreshing").addClass("transitioning"),t.transitionEnd(function(){t.removeClass("transitioning pull-up pull-down")})},w.pullToRefreshTrigger=function(t){0===(t=w(t)).length&&(t=w(".pull-to-refresh-content")),t.hasClass("refreshing")||(t.addClass("transitioning refreshing"),t.trigger("refresh"))},w.destroyPullToRefresh=function(t){var e=(t=w(t)).hasClass("pull-to-refresh-content")?t:t.find(".pull-to-refresh-content");0!==e.length&&e[0].destroyPullToRefresh&&e[0].destroyPullToRefresh()}}(Zepto),function(c){"use strict";function e(){var t,e=c(this),n=c.getScroller(e),i=n.scrollTop(),o=n.scrollHeight(),r=e[0].offsetHeight,a=e[0].getAttribute("data-distance"),s=e.find(".virtual-list"),l=e.hasClass("infinite-scroll-top");if(a||(a=50),"string"==typeof a&&0<=a.indexOf("%")&&(a=parseInt(a,10)/100*r),r<a&&(a=r),l)i<a&&e.trigger("infinite");else if(o-a<=i+r){if(0<s.length&&((t=s[0].f7VirtualList)&&!t.reachEnd))return;e.trigger("infinite")}}c.attachInfiniteScroll=function(t){c.getScroller(t).on("scroll",e)},c.detachInfiniteScroll=function(t){c.getScroller(t).off("scroll",e)},c.initInfiniteScroll=function(e){var n=(e=c(e)).hasClass("infinite-scroll")?e:e.find(".infinite-scroll");0!==n.length&&(c.attachInfiniteScroll(n),e.forEach(function(t){if(c(t).hasClass("infinite-scroll-top")){var e=t.scrollHeight-t.clientHeight;c(t).scrollTop(e)}}),e.on("pageBeforeRemove",function t(){c.detachInfiniteScroll(n),e.off("pageBeforeRemove",t)}))}}(Zepto),function(e){"use strict";e(function(){e(document).on("focus",".searchbar input",function(t){e(t.target).parents(".searchbar").addClass("searchbar-active")}),e(document).on("click",".searchbar-cancel",function(t){e(t.target).parents(".searchbar").removeClass("searchbar-active")}),e(document).on("blur",".searchbar input",function(t){e(t.target).parents(".searchbar").removeClass("searchbar-active")})})}(Zepto),function(w){"use strict";w.allowPanelOpen=!0,w.openPanel=function(n){if(!w.allowPanelOpen)return!1;("left"===n||"right"===n)&&(n=".panel-"+n);var t=(n=n?w(n):w(".panel").eq(0)).hasClass("panel-right")?"right":"left";if(0===n.length||n.hasClass("active"))return!1;w.closePanel(),w.allowPanelOpen=!1;var e=n.hasClass("panel-reveal")?"reveal":"cover";n.css({display:"block"}).addClass("active"),n.trigger("open");var i=(n[0].clientLeft,"reveal"===e?w(w.getCurrentPage()):n);return function e(){i.transitionEnd(function(t){t.target===i[0]?(n.hasClass("active")?n.trigger("opened"):n.trigger("closed"),w.allowPanelOpen=!0):e()})}(),w(document.body).addClass("with-panel-"+t+"-"+e),!0},w.closePanel=function(){var t=w(".panel.active");if(0===t.length)return!1;var e=t.hasClass("panel-reveal")?"reveal":"cover",n=t.hasClass("panel-left")?"left":"right";t.removeClass("active");var i="reveal"===e?w(".page"):t;t.trigger("close"),w.allowPanelOpen=!1,i.transitionEnd(function(){t.hasClass("active")||(t.css({display:""}),t.trigger("closed"),w("body").removeClass("panel-closing"),w.allowPanelOpen=!0)}),w("body").addClass("panel-closing").removeClass("with-panel-"+n+"-"+e)},w(document).on("click",".open-panel",function(t){var e=w(t.target).data("panel");w.openPanel(e)}),w(document).on("click",".close-panel, .panel-overlay",function(t){w.closePanel()}),w.initSwipePanels=function(){var r,a,e=w.smConfig.swipePanel,n=w.smConfig.swipePanelOnlyClose;if(e||n){var s,l,o,c,h,p,u,d,f,m,v=w(".panel-overlay"),g={},y=w(".page");w(document).on(w.touchEvents.start,function(t){if(w.allowPanelOpen&&(e||n)&&!s&&!(0<w(".modal-in, .photo-browser-in").length)){if(g.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,g.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,0<w(".panel.active").length)a=w(".panel.active").hasClass("panel-left")?"left":"right";else{if(n)return;a=e}if(!a)return;(r=w(".panel.panel-"+a))[0]&&(u=r.hasClass("active"),s=!(l=!1),o=void 0,c=(new Date).getTime(),m=void 0)}}),w(document).on(w.touchEvents.move,function(t){if(s&&r[0]&&!t.f7PreventPanelSwipe){var e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===o&&(o=!!(o||Math.abs(n-g.y)>Math.abs(e-g.x))),o)return void(s=!1);if(!m&&(m=e>g.x?"to-right":"to-left","left"===a&&"to-left"===m&&!r.hasClass("active")||"right"===a&&"to-right"===m&&!r.hasClass("active")))return void(s=!1);l||(f=r.hasClass("panel-cover")?"cover":"reveal",u||(r.show(),v.show()),d=r[0].offsetWidth,r.transition(0)),l=!0,t.preventDefault();var i=u?0:-2;"right"===a&&(i=-i),h=e-g.x+i,"right"===a?(0<(p=h-(u?d:0))&&(p=0),p<-d&&(p=-d)):((p=h+(u?d:0))<0&&(p=0),d<p&&(p=d)),"reveal"===f?(y.transform("translate3d("+p+"px,0,0)").transition(0),v.transform("translate3d("+p+"px,0,0)")):r.transform("translate3d("+p+"px,0,0)").transition(0)}}),w(document).on(w.touchEvents.end,function(t){if(s&&l){l=s=!1;var e,n=(new Date).getTime()-c,i=0===p||Math.abs(p)===d;if("swap"==(e=u?p===-d?"reset":n<300&&0<=Math.abs(p)||300<=n&&Math.abs(p)<=d/2?"left"===a&&p===d?"reset":"swap":"reset":0===p?"reset":n<300&&0<Math.abs(p)||300<=n&&Math.abs(p)>=d/2?"swap":"reset")&&(w.allowPanelOpen=!0,u?(w.closePanel(),i&&(r.css({display:""}),w("body").removeClass("panel-closing"))):w.openPanel(a),i&&(w.allowPanelOpen=!0)),"reset"===e)if(u)w.allowPanelOpen=!0,w.openPanel(a);else if(w.closePanel(),i)w.allowPanelOpen=!0,r.css({display:""});else{var o="reveal"===f?y:r;w("body").addClass("panel-closing"),o.transitionEnd(function(){w.allowPanelOpen=!0,r.css({display:""}),w("body").removeClass("panel-closing")})}"reveal"===f&&(y.transition(""),y.transform("")),r.transition("").transform(""),v.css({display:""}).transform("")}else l=s=!1})}},w.initSwipePanels()}(Zepto),function(h){"use strict";window.CustomEvent||(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},window.CustomEvent.prototype=window.Event.prototype);var e="pageLoadStart",n="pageLoadCancel",r="pageLoadError",a="pageLoadComplete",s="pageAnimationStart",l="pageAnimationEnd",c="beforePageRemove",p="pageRemoved",u="beforePageSwitch",d="pageInitInternal",f={getUrlFragment:function(t){var e=t.indexOf("#");return-1===e?"":t.slice(e+1)},getAbsoluteUrl:function(t){var e=document.createElement("a");e.setAttribute("href",t);var n=e.href;return e=null,n},getBaseUrl:function(t){var e=t.indexOf("#");return-1===e?t.slice(0):t.slice(0,e)},toUrlObject:function(t){var e=this.getAbsoluteUrl(t);return{base:this.getBaseUrl(e),full:e,original:t,fragment:this.getUrlFragment(t)}},supportStorage:function(){var t="sm.router.storage.ability";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}}},m="page-group",v="page-current",g="page-visible",y="page",w="from-left-to-right",x="from-right-to-left",b=window.history,t=function(){this.sessionNames={currentState:"sm.router.currentState",maxStateId:"sm.router.maxStateId"},this._init(),this.xhr=null,window.addEventListener("popstate",this._onPopState.bind(this))};t.prototype._init=function(){this.$view=h("body"),this.cache={};var t=h(document),e=location.href;this._saveDocumentIntoCache(t,e);var n,i,o=f.toUrlObject(e),r=t.find("."+y),a=t.find("."+v),s=a.eq(0);if(o.fragment&&(i=t.find("#"+o.fragment)),i&&i.length?a=i.eq(0):a.length||(a=r.eq(0)),a.attr("id")||a.attr("id",this._generateRandomId()),s.length&&s.attr("id")!==a.attr("id")&&s.removeClass(v),a.addClass(v),n=a.attr("id"),null===b.state){var l={id:this._getNextStateId(),url:f.toUrlObject(e),pageId:n};b.replaceState(l,"",e),this._saveAsCurrentState(l),this._incMaxStateId()}},t.prototype.load=function(t,e){void 0===e&&(e=!1),this._isTheSameDocument(location.href,t)?this._switchToSection(f.getUrlFragment(t)):(this._saveDocumentIntoCache(h(document),location.href),this._switchToDocument(t,e))},t.prototype.forward=function(){b.forward()},t.prototype.back=function(){b.back()},t.prototype.loadPage=t.prototype.load,t.prototype._switchToSection=function(t){if(t){var e=this._getCurrentSection(),n=h("#"+t);e!==n&&(this._animateSection(e,n,x),this._pushNewState("#"+t,t))}},t.prototype._switchToDocument=function(e,t,n,i){var o=f.toUrlObject(e).base;t&&delete this.cache[o];var r=this.cache[o],a=this;r?this._doSwitchDocument(e,n,i):this._loadDocument(e,{success:function(t){try{a._parseDocument(e,t),a._doSwitchDocument(e,n,i)}catch(t){location.href=e}},error:function(){location.href=e}})},t.prototype._doSwitchDocument=function(t,e,n){void 0===e&&(e=!0);var i,o=f.toUrlObject(t),r=this.$view.find("."+m),a=h(h("<div></div>").append(this.cache[o.base].$content).html()),s=a.find("."+y),l=a.find("."+v);o.fragment&&(i=a.find("#"+o.fragment)),i&&i.length?l=i.eq(0):l.length||(l=s.eq(0)),l.attr("id")||l.attr("id",this._generateRandomId());var c=this._getCurrentSection();c.trigger(u,[c.attr("id"),c]),s.removeClass(v),l.addClass(v),this.$view.prepend(a),this._animateDocument(r,a,l,n),e&&this._pushNewState(t,l.attr("id"))},t.prototype._isTheSameDocument=function(t,e){return f.toUrlObject(t).base===f.toUrlObject(e).base},t.prototype._loadDocument=function(t,o){this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=function(){},this.xhr.abort(),this.dispatch(n)),this.dispatch(e),o=o||{};var i=this;this.xhr=h.ajax({url:t,success:h.proxy(function(t,e,n){var i=h("<html></html>");i.append(t),o.success&&o.success.call(null,i,e,n)},this),error:function(t,e,n){o.error&&o.error.call(null,t,e,n),i.dispatch(r)},complete:function(t,e){o.complete&&o.complete.call(null,t,e),i.dispatch(a)}})},t.prototype._parseDocument=function(t,e){if(!e.find("."+m).length)throw new Error("missing router view mark: "+m);this._saveDocumentIntoCache(e,t)},t.prototype._saveDocumentIntoCache=function(t,e){var n=f.toUrlObject(e).base,i=h(t);this.cache[n]={$doc:i,$content:i.find("."+m)}},t.prototype._getLastState=function(){var e=sessionStorage.getItem(this.sessionNames.currentState);try{e=JSON.parse(e)}catch(t){e=null}return e},t.prototype._saveAsCurrentState=function(t){sessionStorage.setItem(this.sessionNames.currentState,JSON.stringify(t))},t.prototype._getNextStateId=function(){var t=sessionStorage.getItem(this.sessionNames.maxStateId);return t?parseInt(t,10)+1:1},t.prototype._incMaxStateId=function(){sessionStorage.setItem(this.sessionNames.maxStateId,this._getNextStateId())},t.prototype._animateDocument=function(t,e,n,i){var o=n.attr("id"),r=t.find("."+v);r.addClass(g).removeClass(v),n.trigger(s,[o,n]),this._animateElement(t,e,i),t.animationEnd(function(){r.removeClass(g),h(window).trigger(c,[t]),t.remove(),h(window).trigger(p)}),e.animationEnd(function(){n.trigger(l,[o,n]),n.trigger(d,[o,n])})},t.prototype._animateSection=function(t,e,n){var i=e.attr("id");t.trigger(u,[t.attr("id"),t]),t.removeClass(v),e.addClass(v),e.trigger(s,[i,e]),this._animateElement(t,e,n),e.animationEnd(function(){e.trigger(l,[i,e]),e.trigger(d,[i,e])})},t.prototype._animateElement=function(t,e,n){void 0===n&&(n=x);var i,o,r=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" ");switch(n){case x:i="page-from-center-to-left",o="page-from-right-to-center";break;case w:i="page-from-center-to-right",o="page-from-left-to-center";break;default:i="page-from-center-to-left",o="page-from-right-to-center"}t.removeClass(r).addClass(i),e.removeClass(r).addClass(o),t.animationEnd(function(){t.removeClass(r)}),e.animationEnd(function(){e.removeClass(r)})},t.prototype._getCurrentSection=function(){return this.$view.find("."+v).eq(0)},t.prototype._back=function(t,e){if(this._isTheSameDocument(t.url.full,e.url.full)){var n=h("#"+t.pageId);if(n.length){var i=this._getCurrentSection();this._animateSection(i,n,w),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache(h(document),e.url.full),this._switchToDocument(t.url.full,!1,!1,w),this._saveAsCurrentState(t)},t.prototype._forward=function(t,e){if(this._isTheSameDocument(t.url.full,e.url.full)){var n=h("#"+t.pageId);if(n.length){var i=this._getCurrentSection();this._animateSection(i,n,x),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache(h(document),e.url.full),this._switchToDocument(t.url.full,!1,!1,x),this._saveAsCurrentState(t)},t.prototype._onPopState=function(t){var e=t.state;if(e&&e.pageId){var n=this._getLastState();return n?void(e.id!==n.id&&(e.id<n.id?this._back(e,n):this._forward(e,n))):void(console.error&&console.error("Missing last state when backward or forward"))}},t.prototype._pushNewState=function(t,e){var n={id:this._getNextStateId(),pageId:e,url:f.toUrlObject(t)};b.pushState(n,"",t),this._saveAsCurrentState(n),this._incMaxStateId()},t.prototype._generateRandomId=function(){return"page-"+ +new Date},t.prototype.dispatch=function(t){var e=new CustomEvent(t,{bubbles:!0,cancelable:!0});window.dispatchEvent(e)},h(function(){if(h.smConfig.router&&f.supportStorage()){if(!h("."+y).length){return void(window.console&&window.console.warn&&console.warn("Disable router function because of no .page elements"))}var o=h.router=new t;h(document).on("click","a",function(t){var e=h(t.currentTarget);if(function(t){var e=h.smConfig.routerFilter;if(h.isFunction(e)){var n=e(t);if("boolean"==typeof n)return n}return!0}(e)&&!function(t){for(var e=["external","tab-link","open-popup","close-popup","open-panel","close-panel"],n=e.length-1;0<=n;n--)if(t.hasClass(e[n]))return!0;var i=t.get(0),o=i.getAttribute("href");return!!(/^(\w+):/.test(o)&&["http","https"].indexOf(RegExp.$1)<0)||!!i.hasAttribute("external")}(e))if(t.preventDefault(),e.hasClass("back"))o.back();else{var n=e.attr("href");if(!n||"#"===n)return;var i="true"===e.attr("data-no-cache");o.load(n,i)}})}})}(Zepto),function(s){"use strict";s.lastPosition=function(t){if(sessionStorage){var a=t.needMemoryClass||[];s(window).off("beforePageSwitch").on("beforePageSwitch",function(t,e,n){var i,o;i=n,o=e,a.forEach(function(t,e){0!==s(t).length&&sessionStorage.setItem(o,i.find(t).scrollTop())})}),s(window).off("pageAnimationStart").on("pageAnimationStart",function(t,e,n){var o,r;o=e,r=n,a.forEach(function(t,e){if(0!==s(t).length){var n=o,i=sessionStorage.getItem(n);r.find(t).scrollTop(parseInt(i))}})})}}}(Zepto),function(i){"use strict";var o=function(){var t=i(".page-current");return t[0]||(t=i(".page").addClass("page-current")),t};i.initPage=function(t){var e=o();e[0]||(e=i(document.body));var n=e.hasClass("content")?e:e.find(".content");n.scroller(),i.initPullToRefresh(n),i.initInfiniteScroll(n),i.initCalendar(n),i.initSwiper&&i.initSwiper(n)},i.smConfig.showPageLoadingIndicator&&(i(window).on("pageLoadStart",function(){i.showIndicator()}),i(window).on("pageAnimationStart",function(){i.hideIndicator()}),i(window).on("pageLoadCancel",function(){i.hideIndicator()}),i(window).on("pageLoadComplete",function(){i.hideIndicator()}),i(window).on("pageLoadError",function(){i.hideIndicator(),i.toast("加载失败")})),i(window).on("pageAnimationStart",function(t,e,n){i.closeModal(),i.closePanel(),i("body").removeClass("panel-closing"),i.allowPanelOpen=!0}),i(window).on("pageInit",function(){i.hideIndicator(),i.lastPosition({needMemoryClass:[".content"]})}),window.addEventListener("pageshow",function(t){t.persisted&&location.reload()}),i.init=function(){var t=o(),e=t[0].id;i.initPage(),t.trigger("pageInit",[e,t])},i(function(){FastClick.attach(document.body),i.smConfig.autoInit&&i.init(),i(document).on("pageInitInternal",function(t,e,n){i.init()})})}(Zepto),function(n){"use strict";if(n.device.ios){var i=function(e){var n;(e=e||document.querySelector(e))&&e.addEventListener("touchstart",function(t){t.touches[0].pageY,(n=e.scrollTop)<=0&&(e.scrollTop=1),n+e.offsetHeight>=e.scrollHeight&&(e.scrollTop=e.scrollHeight-e.offsetHeight-1)},!1)},t=function(){var t=0<n(".page-current").length?".page-current ":"",e=n(t+".content");new i(e[0])};n(document).on(n.touchEvents.move,".page-current .bar",function(){event.preventDefault()}),n(document).on("pageLoadComplete",function(){t()}),n(document).on("pageAnimationEnd",function(){t()}),t()}}(Zepto);